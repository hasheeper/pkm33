const GLORIA_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!0,enable_tera:!1},party:[{name:"Zacian-Crowned",lv:99,gender:"N",nature:"Adamant",ability:"Intrepid Sword",item:"Rusted Sword",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Behemoth Blade","Play Rough","Close Combat","Swords Dance"],isAce:!0,friendship:{trust:255,passion:180,insight:120,devotion:100}},{name:"Cinderace",lv:95,gender:"M",nature:"Jolly",ability:"Libero",item:"Life Orb",mechanic:"dynamax",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Pyro Ball","Bounce","High Jump Kick","Sucker Punch"]},{name:"Rillaboom",lv:91,gender:"M",nature:"Adamant",ability:"Grassy Surge",item:"Grassy Seed",mechanic:"dynamax",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Grassy Glide","Drum Beating","Horsepower","U-turn"]},{name:"Urshifu-Rapid-Strike",lv:90,gender:"M",nature:"Jolly",ability:"Unseen Fist",item:"Choice Band",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Surging Strikes","Close Combat","Aqua Jet","U-turn"]},{name:"Corviknight",lv:88,gender:"M",nature:"Impish",ability:"Mirror Armor",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Brave Bird","Body Press","Roost","Iron Defense"]},{name:"Skwovet",lv:100,gender:"F",nature:"Relaxed",ability:"Cheek Pouch",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Stuff Cheeks","Body Slam","Super Fang","Stockpile"]}]}},AKARI_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!0,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Samurott-Hisui",lv:99,gender:"F",nature:"Adamant",ability:"Sharpness",item:"Choice Scarf",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Ceaseless Edge","Razor Shell","X-Scissor","Sacred Sword"],isAce:!0,friendship:{trust:150,passion:200,insight:220,devotion:100}},{name:"Kleavor",lv:97,gender:"M",nature:"Jolly",ability:"Sharpness",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Stone Axe","X-Scissor","Close Combat","Quick Attack"]},{name:"Zoroark-Hisui",lv:95,gender:"M",nature:"Timid",ability:"Illusion",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Shadow Ball","Hyper Voice","Flamethrower","Nasty Plot"]},{name:"Ursaluna",lv:96,gender:"M",nature:"Adamant",ability:"Guts",item:"Flame Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Facade","Headlong Rush","Fire Punch","Swords Dance"]},{name:"Pikachu",lv:100,gender:"M",nature:"Naive",ability:"Static",item:"Light Ball",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Volt Tackle","Iron Tail","Play Rough","Swift"]},{name:"Staraptor",lv:94,gender:"F",nature:"Jolly",ability:"Reckless",item:"Choice Band",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Brave Bird","Double-Edge","Close Combat","U-turn"]}]}},ROSA_DATA={4:{unlocks:{enable_bond:!0,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Serperior",lv:99,gender:"F",nature:"Timid",ability:"Contrary",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Leaf Storm","Dragon Pulse","Glare","Substitute"],isAce:!0,friendship:{trust:100,passion:100,insight:100,devotion:255}},{name:"Emboar",lv:96,gender:"M",nature:"Brave",ability:"Reckless",item:"Choice Band",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:0},ev_level:252},moves:["Flare Blitz","Superpower","Wild Charge","Head Smash"],isAce:!0,friendship:{trust:80,passion:255,insight:80,devotion:80}},{name:"Samurott",lv:95,gender:"M",nature:"Adamant",ability:"Shell Armor",item:"Expert Belt",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Liquidation","Aqua Jet","Swords Dance","Megahorn"],isAce:!0,friendship:{trust:150,passion:100,insight:100,devotion:100}},{name:"Simisear",lv:80,gender:"M",nature:"Timid",ability:"Gluttony",item:"Salac Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Fire Blast","Grass Knot","Nasty Plot","Focus Blast"],isAce:!0,friendship:{trust:100,passion:100,insight:100,devotion:100}},{name:"Simipour",lv:80,gender:"M",nature:"Timid",ability:"Torrent",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Hydro Pump","Ice Beam","Scald","Taunt"],isAce:!0,friendship:{trust:100,passion:100,insight:100,devotion:100}},{name:"Delibird",lv:85,gender:"F",nature:"Jolly",ability:"Hustle",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Ice Shard","Destiny Bond","Drill Peck","Present"],isAce:!0,friendship:{trust:80,passion:80,insight:200,devotion:80}}]}},SERENA_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!0,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Absol",lv:99,gender:"F",nature:"Jolly",ability:"Justified",item:"Absolite",mechanic:"mega",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Sucker Punch","Play Rough","Knock Off","Swords Dance"]},{name:"Delphox",lv:99,gender:"F",nature:"Timid",ability:"Blaze",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},isAce:!0,friendship:{trust:150,passion:255,insight:120,devotion:100},moves:["Fire Blast","Psychic","Dazzling Gleam","Calm Mind"]},{name:"Greninja",lv:93,gender:"M",nature:"Naive",ability:"Protean",item:"Choice Scarf",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Ice Beam","Dark Pulse","Gunk Shot","U-turn"]},{name:"Zygarde",lv:95,gender:"N",nature:"Adamant",ability:"Power Construct",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Thousand Arrows","Dragon Dance","Substitute","Extreme Speed"]},{name:"Sylveon",lv:88,gender:"F",nature:"Modest",ability:"Pixilate",item:"Choice Specs",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Hyper Voice","Psyshock","Shadow Ball","Quick Attack"]},{name:"Vaporeon",lv:85,gender:"F",nature:"Bold",ability:"Water Absorb",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Scald","Wish","Protect","Toxic"]}]}},DAWN_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!0,enable_mega:!0,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Lopunny",lv:95,gender:"F",nature:"Jolly",ability:"Scrappy",item:"Lopunnite",mechanic:"mega",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Fake Out","Return","High Jump Kick","Ice Punch"],isAce:!0,friendship:{trust:150,passion:200,insight:255,devotion:120}},{name:"Torterra",lv:92,gender:"M",nature:"Adamant",ability:"Shell Armor",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Wood Hammer","Earthquake","Stone Edge","Synthesis"],isAce:!0,friendship:{trust:220,passion:80,insight:100,devotion:150}},{name:"Infernape",lv:92,gender:"M",nature:"Naive",ability:"Iron Fist",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Overheat","Close Combat","Mach Punch","U-turn"],isAce:!0,friendship:{trust:100,passion:255,insight:120,devotion:100}},{name:"Empoleon",lv:92,gender:"M",nature:"Modest",ability:"Competitive",item:"Shuca Berry",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Hydro Pump","Flash Cannon","Ice Beam","Aqua Jet"],isAce:!0,friendship:{trust:150,passion:150,insight:150,devotion:150}},{name:"Froslass",lv:90,gender:"F",nature:"Timid",ability:"Snow Cloak",item:"Bright Powder",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Blizzard","Destiny Bond","Thunder Wave","Shadow Ball"],isAce:!0,friendship:{trust:50,passion:50,insight:255,devotion:50}},{name:"Pachirisu",lv:95,gender:"F",nature:"Impish",ability:"Volt Absorb",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:{hp:252,atk:0,def:252,spa:0,spd:4,spe:0}},moves:["Nuzzle","Super Fang","Charm","Protect"],isAce:!0,friendship:{trust:255,passion:80,insight:200,devotion:200}}]}},SELENE_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!0,enable_dynamax:!1,enable_tera:!1},party:[{name:"Decidueye",lv:98,gender:"M",nature:"Adamant",ability:"Long Reach",item:"Decidium Z",isAce:!0,friendship:{trust:255,passion:180,insight:180,devotion:120},stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Spirit Shackle","Leaf Blade","Brave Bird","Sucker Punch"]},{name:"Incineroar",lv:94,gender:"M",nature:"Adamant",ability:"Intimidate",item:"Sitrus Berry",stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Darkest Lariat","Flare Blitz","Fake Out","Parting Shot"]},{name:"Snorlax",lv:95,gender:"M",nature:"Impish",ability:"Thick Fat",item:"Leftovers",stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Giga Impact","Body Slam","Rest","Sleep Talk"]},{name:"Lycanroc-Dusk",lv:96,gender:"M",nature:"Jolly",ability:"Tough Claws",item:"Life Orb",stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Stone Edge","Accelerock","Close Combat","Psychic Fangs"]},{name:"Scizor",lv:95,gender:"M",nature:"Adamant",ability:"Technician",item:"Choice Band",stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Bullet Punch","U-turn","Dual Wingbeat","Superpower"]},{name:"Umbreon",lv:92,gender:"M",nature:"Calm",ability:"Synchronize",item:"Rocky Helmet",stats_meta:{ev_level:252,ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31}},moves:["Foul Play","Moonlight","Toxic","Protect"]}]}},JULIANA_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!0},party:[{name:"Miraidon",lv:99,gender:"N",nature:"Modest",ability:"Hadron Engine",item:"Choice Specs",mechanic:"tera",teraType:"Electric",isAce:!0,friendship:{trust:255,passion:255,insight:100,devotion:120},stats_meta:{ev_level:252,ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31}},moves:["Electro Drift","Dragon Pulse","Parabolic Charge","Volt Switch"]},{name:"Meowscarada",lv:98,gender:"F",nature:"Jolly",ability:"Protean",item:"Focus Sash",stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Flower Trick","Knock Off","U-turn","Play Rough"]},{name:"Kingambit",lv:97,gender:"M",nature:"Adamant",ability:"Supreme Overlord",item:"Black Glasses",mechanic:"tera",teraType:"Dark",stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Kowtow Cleave","Sucker Punch","Iron Head","Swords Dance"]},{name:"Tinkaton",lv:96,gender:"F",nature:"Jolly",ability:"Mold Breaker",item:"Leftovers",stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Gigaton Hammer","Play Rough","Knock Off","Thunder Wave"]},{name:"Ceruledge",lv:95,gender:"M",nature:"Jolly",ability:"Weak Armor",item:"Life Orb",stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Bitter Blade","Shadow Sneak","Close Combat","Swords Dance"]},{name:"Pawmot",lv:94,gender:"F",nature:"Jolly",ability:"Iron Fist",item:"Leppa Berry",stats_meta:{ev_level:252,ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31}},moves:["Revival Blessing","Double Shock","Close Combat","Mach Punch"]}]}},LUSAMINE_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!0,enable_dynamax:!1,enable_tera:!1},party:[{name:"Nihilego",lv:99,gender:"N",nature:"Timid",ability:"Beast Boost",item:"Rockium Z",mechanic:"zmove",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Power Gem","Sludge Wave","Stealth Rock","Thunderbolt"],isAce:!0,friendship:{trust:80,passion:120,insight:140,devotion:255}},{name:"Pheromosa",lv:98,gender:"N",nature:"Naughty",ability:"Beast Boost",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["High Jump Kick","U-turn","Ice Beam","Poison Jab"]},{name:"Bewear",lv:92,gender:"F",nature:"Adamant",ability:"Fluffy",item:"Assault Vest",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Double-Edge","Superpower","Darkest Lariat","Ice Punch"]},{name:"Milotic",lv:82,gender:"F",nature:"Bold",ability:"Marvel Scale",item:"Flame Orb",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Scald","Recover","Haze","Ice Beam"]},{name:"Lilligant",lv:75,gender:"F",nature:"Modest",ability:"Own Tempo",item:"Kee Berry",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:200},moves:["Quiver Dance","Petal Dance","Sleep Powder","Giga Drain"]},{name:"Clefable",lv:85,gender:"F",nature:"Calm",ability:"Magic Guard",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Moonblast","Soft-Boiled","Cosmic Power","Stored Power"]}]}},LILLIE_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!0,enable_dynamax:!1,enable_tera:!1},party:[{name:"Clefairy",lv:85,gender:"F",nature:"Bold",ability:"Magic Guard",item:"Eviolite",isAce:!0,stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Moonblast","Moonlight","Cosmic Power","Minimize"],friendship:{trust:220,passion:60,insight:120,devotion:255}},{name:"Ninetales-Alola",lv:84,gender:"F",nature:"Timid",ability:"Snow Warning",item:"Icium Z",mechanic:"zmove",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Blizzard","Aurora Veil","Freeze-Dry","Moonblast"]},{name:"Magearna",lv:82,gender:"N",nature:"Modest",ability:"Soul-Heart",item:"Assault Vest",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Fleur Cannon","Flash Cannon","Aura Sphere","Volt Switch"]},{name:"Ribombee",lv:82,gender:"F",nature:"Timid",ability:"Shield Dust",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Sticky Web","Moonblast","U-turn","Pollen Puff"]},{name:"Lilligant",lv:80,gender:"F",nature:"Modest",ability:"Own Tempo",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:200},moves:["Quiver Dance","Petal Dance","Giga Drain","Hidden Power Fire"]},{name:"Comfey",lv:80,gender:"F",nature:"Bold",ability:"Triage",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Draining Kiss","Giga Drain","Synthesis","Calm Mind"]}]}},MALLOW_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!0,enable_dynamax:!1,enable_tera:!1},party:[{name:"Tsareena",lv:85,gender:"F",nature:"Adamant",ability:"Queenly Majesty",item:"Grassium Z",mechanic:"zmove",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Power Whip","High Jump Kick","Trop Kick","U-turn"],isAce:!0,friendship:{trust:140,passion:200,insight:100,devotion:180}},{name:"Lurantis",lv:84,gender:"F",nature:"Brave",ability:"Contrary",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Leaf Storm","Superpower","Synthesis","Poison Jab"]},{name:"Trevenant",lv:83,gender:"M",nature:"Impish",ability:"Harvest",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Will-O-Wisp","Poltergeist","Horn Leech","Leech Seed"]},{name:"Appletun",lv:82,gender:"M",nature:"Bold",ability:"Thick Fat",item:"Rocky Helmet",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Apple Acid","Dragon Pulse","Recover","Body Press"]},{name:"Alcremie",lv:80,gender:"F",nature:"Calm",ability:"Sweet Veil",item:"Wiki Berry",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Dazzling Gleam","Mystical Fire","Calm Mind","Recover"]},{name:"Exeggutor-Alola",lv:82,gender:"M",nature:"Quiet",ability:"Frisk",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Draco Meteor","Flamethrower","Giga Drain","Sludge Bomb"]}]}},LANA_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!0,enable_dynamax:!1,enable_tera:!1},party:[{name:"Araquanid",lv:85,gender:"F",nature:"Adamant",ability:"Water Bubble",item:"Waterium Z",mechanic:"zmove",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Liquidation","Leech Life","Lunge","Sticky Web"],isAce:!0,friendship:{trust:160,passion:200,insight:120,devotion:120}},{name:"Cloyster",lv:84,gender:"M",nature:"Jolly",ability:"Skill Link",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Shell Smash","Icicle Spear","Rock Blast","Ice Shard"]},{name:"Wishiwashi",lv:83,gender:"M",nature:"Quiet",ability:"Schooling",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:0},ev_level:252},moves:["Hydro Pump","Earthquake","Ice Beam","U-turn"]},{name:"Golisopod",lv:83,gender:"M",nature:"Adamant",ability:"Emergency Exit",item:"Assault Vest",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["First Impression","Aqua Jet","Liquidation","Sucker Punch"]},{name:"Lanturn",lv:82,gender:"F",nature:"Calm",ability:"Volt Absorb",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Scald","Volt Switch","Thunder Wave","Heal Bell"]},{name:"Primarina",lv:82,gender:"F",nature:"Modest",ability:"Torrent",item:"Choice Specs",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Moonblast","Hydro Pump","Psychic","Energy Ball"]}]}},IRIDA_DATA={4:{unlocks:{enable_bond:!1,enable_styles:!0,enable_insight:!0,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Glaceon",lv:86,gender:"F",nature:"Modest",ability:"Snow Cloak",item:"Bright Powder",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Blizzard","Freeze-Dry","Calm Mind","Shadow Ball"],isAce:!0,friendship:{trust:160,passion:100,insight:255,devotion:120}},{name:"Espeon",lv:84,gender:"F",nature:"Timid",ability:"Magic Bounce",item:"Light Clay",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Psychic","Dazzling Gleam","Reflect","Light Screen"]},{name:"Avalugg-Hisui",lv:85,gender:"M",nature:"Adamant",ability:"Strong Jaw",item:"Assault Vest",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Mountain Gale","Stone Edge","Earthquake","Body Press"]},{name:"Flareon",lv:84,gender:"F",nature:"Adamant",ability:"Guts",item:"Toxic Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Flare Blitz","Facade","Superpower","Quick Attack"]},{name:"Sneasler",lv:83,gender:"F",nature:"Jolly",ability:"Unburden",item:"White Herb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Dire Claw","Close Combat","Acrobatics","Swords Dance"]},{name:"Froslass",lv:82,gender:"F",nature:"Timid",ability:"Cursed Body",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Aurora Veil","Destiny Bond","Icy Wind","Spikes"]}]}},SONIA_DATA={4:{unlocks:{enable_bond:!0,enable_styles:!0,enable_insight:!0,enable_mega:!0,enable_z_move:!0,enable_dynamax:!0,enable_tera:!0},party:[{name:"Yamper",lv:75,gender:"M",nature:"Impish",ability:"Ball Fetch",item:"Eviolite",mechanic:"tera",teraType:"Electric",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:{hp:252,atk:0,def:252,spa:0,spd:4,spe:0}},moves:["Nuzzle","Super Fang","Play Rough","Rest"],isAce:!0,friendship:{trust:150,passion:100,insight:255,devotion:200}},{name:"Tsareena",lv:72,gender:"F",nature:"Adamant",ability:"Queenly Majesty",mechanic:"zmove",item:"Grassium Z",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:{hp:0,atk:252,def:4,spa:0,spd:0,spe:252}},moves:["Power Whip","High Jump Kick","Trop Kick","U-turn"]},{name:"Lapras",lv:70,gender:"F",nature:"Modest",ability:"Shell Armor",mechanic:"dynamax",item:"Weakness Policy",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:{hp:252,atk:0,def:0,spa:252,spd:0,spe:4}},moves:["Freeze-Dry","Hydro Pump","Thunder","Protect"]}]}},ROXIE_DATA={1:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Venipede",lv:24,gender:"F",nature:"Hasty",ability:"Poison Point",item:"Poison Barb",stats_meta:{ivs:{hp:20,atk:20,def:20,spa:20,spd:20,spe:20},ev_level:5},moves:["Bug Bite","Poison Tail","Iron Defense","Screech"]},{name:"Koffing",lv:24,gender:"M",nature:"Bold",ability:"Levitate",stats_meta:{ivs:{hp:20,atk:20,def:20,spa:20,spd:20,spe:20},ev_level:5},moves:["Smog","Assurance","Clear Smog","Will-O-Wisp"]},{name:"Trubbish",lv:25,gender:"F",nature:"Adamant",ability:"Stench",item:"Oran Berry",isAce:!0,stats_meta:{ivs:{hp:25,atk:25,def:25,spa:25,spd:25,spe:25},ev_level:20},moves:["Sludge","Toxic Spikes","Acid Spray","Double Slap"]}]},2:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Whirlipede",lv:48,gender:"F",nature:"Jolly",ability:"Speed Boost",item:"Eviolite",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:120},moves:["Protect","Poison Jab","Iron Defense","Bug Bite"]},{name:"Golbat",lv:48,gender:"M",nature:"Jolly",ability:"Inner Focus",item:"Sitrus Berry",stats_meta:{ivs:{hp:25,atk:31,def:25,spa:25,spd:25,spe:31},ev_level:85},moves:["Cross Poison","Confuse Ray","Bite","U-turn"]},{name:"Toxtricity",lv:49,gender:"M",nature:"Modest",ability:"Punk Rock",item:"Magnet",stats_meta:{ivs:{hp:31,atk:0,def:25,spa:31,spd:25,spe:31},ev_level:120},moves:["Overdrive","Venoshock","Snarl","Noble Roar"]},{name:"Garbodor",lv:50,gender:"F",nature:"Adamant",ability:"Weak Armor",item:"Black Sludge",isAce:!0,friendship:{trust:100,passion:150,insight:80,devotion:100},stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:252},moves:["Gunk Shot","Body Slam","Drain Punch","Toxic"]}]},3:{unlocks:{enable_bond:!0,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Scolipede",lv:75,gender:"F",nature:"Jolly",ability:"Speed Boost",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:200},moves:["Swords Dance","Iron Defense","Baton Pass","Megahorn"]},{name:"Crobat",lv:74,gender:"M",nature:"Jolly",ability:"Infiltrator",item:"Black Sludge",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Brave Bird","Cross Poison","U-turn","Defog"]},{name:"Toxtricity",lv:74,gender:"M",nature:"Timid",ability:"Punk Rock",item:"Throat Spray",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Boomburst","Overdrive","Sludge Wave","Shift Gear"]},{name:"Drapion",lv:73,gender:"M",nature:"Careful",ability:"Sniper",item:"Scope Lens",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Night Slash","Cross Poison","Fell Stinger","Earthquake"]},{name:"Garbodor",lv:77,gender:"F",nature:"Adamant",ability:"Weak Armor",item:"Rocky Helmet",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Gunk Shot","Seed Bomb","Drain Punch","Stomping Tantrum"],isAce:!0,friendship:{trust:150,passion:255,insight:120,devotion:120}}]},4:{unlocks:{enable_bond:!0,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!0,enable_tera:!1},party:[{name:"Scolipede",lv:92,gender:"F",nature:"Jolly",ability:"Speed Boost",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Protect","Swords Dance","Baton Pass","Megahorn"]},{name:"Toxtricity",lv:90,gender:"M",nature:"Timid",ability:"Punk Rock",item:"Throat Spray",mechanic:"dynamax",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Overdrive","Sludge Wave","Boomburst","Shift Gear"]},{name:"Amoonguss",lv:89,gender:"F",nature:"Sassy",ability:"Regenerator",item:"Black Sludge",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:0},ev_level:252},moves:["Spore","Giga Drain","Clear Smog","Foul Play"]},{name:"Seviper",lv:88,gender:"M",nature:"Rash",ability:"Infiltrator",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Poison Jab","Flamethrower","Earthquake","Sucker Punch"]},{name:"Crobat",lv:88,gender:"M",nature:"Jolly",ability:"Infiltrator",item:"Choice Band",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Brave Bird","Cross Poison","U-turn","Zen Headbutt"]},{name:"Garbodor",lv:95,gender:"F",nature:"Adamant",ability:"Weak Armor",item:"Rocky Helmet",mechanic:"dynamax",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Gunk Shot","Seed Bomb","Stomping Tantrum","Explosion"],isAce:!0,friendship:{trust:100,passion:255,insight:140,devotion:120}}]}},IONO_DATA={1:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Wattrel",lv:24,gender:"F",nature:"Bashful",ability:"Wind Power",stats_meta:{ivs:{hp:20,atk:20,def:20,spa:20,spd:20,spe:20},ev_level:0},moves:["Spark","Peck","Quick Attack","Roost"]},{name:"Tadbulb",lv:25,gender:"M",nature:"Modest",ability:"Static",item:"Oran Berry",stats_meta:{ivs:{hp:25,atk:15,def:25,spa:25,spd:25,spe:15},ev_level:20},moves:["Thunder Shock","Water Gun","Round","Charge"]},{name:"Luxio",lv:25,gender:"M",nature:"Adamant",ability:"Intimidate",isAce:!0,stats_meta:{ivs:{hp:25,atk:25,def:25,spa:25,spd:25,spe:25},ev_level:30},moves:["Spark","Bite","Thunder Wave","Roar"]}]},2:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Kilowattrel",lv:48,gender:"F",nature:"Timid",ability:"Volt Absorb",stats_meta:{ivs:{hp:31,atk:0,def:20,spa:31,spd:20,spe:31},ev_level:85},moves:["U-turn","Air Slash","Electro Ball","Roost"]},{name:"Luxray",lv:49,gender:"M",nature:"Jolly",ability:"Intimidate",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:31,def:25,spa:10,spd:25,spe:31},ev_level:85},moves:["Wild Charge","Crunch","Ice Fang","Thunder Wave"]},{name:"Mismagius",lv:49,gender:"F",nature:"Timid",ability:"Levitate",stats_meta:{ivs:{hp:25,atk:0,def:25,spa:31,spd:25,spe:31},ev_level:85},moves:["Magical Leaf","Shadow Ball","Mystical Fire","Hex"]},{name:"Bellibolt",lv:52,gender:"F",nature:"Modest",ability:"Electromorphosis",item:"Magnet",isAce:!0,stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:120},moves:["Discharge","Sucker Punch","Wait... Sucker Punch is physical","Muddy Water","Slack Off"]}]},3:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!0},party:[{name:"Electrode-Hisui",lv:75,gender:"N",nature:"Timid",ability:"Static",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Volt Switch","Energy Ball","Taunt","Thunder Wave"]},{name:"Kilowattrel",lv:74,gender:"F",nature:"Timid",ability:"Wind Power",item:"Sharp Beak",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Tailwind","Thunderbolt","Hurricane","Roost"]},{name:"Luxray",lv:74,gender:"M",nature:"Adamant",ability:"Guts",item:"Expert Belt",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Wild Charge","Psychic Fangs","Crunch","Play Rough"]},{name:"Bellibolt",lv:76,gender:"F",nature:"Modest",ability:"Electromorphosis",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Parabolic Charge","Acid Spray","Muddy Water","Slack Off"]},{name:"Mismagius",lv:78,gender:"F",nature:"Timid",ability:"Levitate",item:"Sitrus Berry",mechanic:"tera",teraType:"Electric",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},isAce:!0,friendship:{trust:120,passion:200,insight:100,devotion:100},moves:["Shadow Ball","Dazzling Gleam","Charge Beam","Pain Split"]}]},4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!0},party:[{name:"Kilowattrel",lv:92,gender:"F",nature:"Timid",ability:"Wind Power",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Tailwind","Thunder","Hurricane","Volt Switch"]},{name:"Bellibolt",lv:94,gender:"F",nature:"Modest",ability:"Electromorphosis",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},isAce:!0,friendship:{trust:140,passion:255,insight:100,devotion:120},moves:["Parabolic Charge","Muddy Water","Acid Spray","Slack Off"]},{name:"Mismagius",lv:95,gender:"F",nature:"Timid",ability:"Levitate",mechanic:"tera",teraType:"Electric",item:"Wise Glasses",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Tera Blast","Shadow Ball","Dazzling Gleam","Mystical Fire"]},{name:"Luxray",lv:90,gender:"M",nature:"Jolly",ability:"Guts",item:"Flame Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Facade","Wild Charge","Superpower","Play Rough"]},{name:"Electivire",lv:91,gender:"M",nature:"Naive",ability:"Motor Drive",item:"Expert Belt",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Plasma Fists","Ice Punch","Earthquake","Flamethrower"]},{name:"Iron Hands",lv:90,gender:"N",nature:"Adamant",ability:"Quark Drive",item:"Booster Energy",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Drain Punch","Thunder Punch","Heavy Slam","Fake Out"]}]}},ERIKA_DATA={1:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Oddish",lv:24,gender:"F",nature:"Calm",ability:"Chlorophyll",stats_meta:{ivs:{hp:15,atk:15,def:15,spa:15,spd:15,spe:15},ev_level:0},moves:["Absorb","Acid","Sleep Powder","Mega Drain"]},{name:"Bellsprout",lv:24,gender:"F",nature:"Modest",ability:"Chlorophyll",stats_meta:{ivs:{hp:20,atk:20,def:20,spa:20,spd:20,spe:20},ev_level:0},moves:["Vine Whip","Growth","Wrap","Poison Powder"]},{name:"Tangela",lv:25,gender:"F",nature:"Bold",ability:"Regenerator",isAce:!0,stats_meta:{ivs:{hp:25,atk:25,def:25,spa:25,spd:25,spe:25},ev_level:10},moves:["Mega Drain","Bind","Stun Spore","Leech Seed"]}]},2:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Jumpluff",lv:48,gender:"F",nature:"Jolly",ability:"Chlorophyll",stats_meta:{ivs:{hp:31,atk:20,def:20,spa:10,spd:20,spe:31},ev_level:85},moves:["Sleep Powder","U-turn","Acrobatics","Leech Seed"]},{name:"Vileplume",lv:49,gender:"F",nature:"Modest",ability:"Chlorophyll",item:"Heat Rock",stats_meta:{ivs:{hp:31,atk:0,def:25,spa:31,spd:25,spe:31},ev_level:85},moves:["Solar Beam","Sludge Bomb","Moonlight","Sunny Day"]},{name:"Tangrowth",lv:49,gender:"F",nature:"Relaxed",ability:"Regenerator",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:20},ev_level:85},moves:["Giga Drain","Knock Off","Earthquake","Ancient Power"]},{name:"Venusaur",lv:50,gender:"F",nature:"Modest",ability:"Chlorophyll",item:"Miracle Seed",isAce:!0,stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:120},moves:["Giga Drain","Sludge Bomb","Earth Power","Growth"]}]},3:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!0,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Victreebel",lv:73,gender:"F",nature:"Naughty",ability:"Chlorophyll",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Leaf Blade","Sludge Bomb","Sucker Punch","Weather Ball"]},{name:"Bellossom",lv:74,gender:"F",nature:"Modest",ability:"Chlorophyll",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Quiver Dance","Giga Drain","Moonblast","Strength Sap"]},{name:"Tangrowth",lv:74,gender:"F",nature:"Sassy",ability:"Regenerator",item:"Assault Vest",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:180},moves:["Power Whip","Knock Off","Earthquake","Sludge Bomb"]},{name:"Venusaur",lv:76,gender:"F",nature:"Modest",ability:"Chlorophyll",item:"Venusaurite",mechanic:"mega",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Giga Drain","Sludge Bomb","Target","Synthesis"]},{name:"Vileplume",lv:72,gender:"F",nature:"Bold",ability:"Effect Spore",item:"Black Sludge",isAce:!0,stats_meta:{ivs:{hp:31,atk:0,def:31,spa:10,spd:31,spe:31},ev_level:180},moves:["Giga Drain","Sludge Bomb","Strength Sap","Sleep Powder"]}]},4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!0,enable_mega:!0,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Jumpluff",lv:88,gender:"F",nature:"Jolly",ability:"Infiltrator",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Sleep Powder","Strength Sap","U-turn","Sunny Day"]},{name:"Venusaur",lv:90,gender:"F",nature:"Bold",ability:"Chlorophyll",item:"Venusaurite",mechanic:"mega",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Giga Drain","Sludge Bomb","Synthesis","Leech Seed"],isAce:!0,friendship:{trust:160,passion:100,insight:255,devotion:120}},{name:"Tangrowth",lv:89,gender:"F",nature:"Relaxed",ability:"Regenerator",item:"Rocky Helmet",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:0},ev_level:252},moves:["Giga Drain","Knock Off","Earthquake","Sleep Powder"]},{name:"Victreebel",lv:88,gender:"F",nature:"Naughty",ability:"Chlorophyll",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Leaf Blade","Sludge Bomb","Weather Ball","Sucker Punch"]},{name:"Bellossom",lv:88,gender:"F",nature:"Modest",ability:"Chlorophyll",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Quiver Dance","Moonblast","Energy Ball","Safeguard"]},{name:"Vileplume",lv:88,gender:"F",nature:"Calm",ability:"Effect Spore",item:"Black Sludge",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Strength Sap","Moonblast","Sludge Bomb","Aromatherapy"]}]}},NESSA_DATA={1:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Goldeen",lv:24,gender:"F",nature:"Naughty",ability:"Water Veil",stats_meta:{ivs:{hp:15,atk:15,def:15,spa:15,spd:15,spe:15},ev_level:5},moves:["Water Pulse","Horn Attack","Supersonic","Rain Dance"]},{name:"Arrokuda",lv:25,gender:"M",nature:"Hasty",ability:"Swift Swim",stats_meta:{ivs:{hp:20,atk:20,def:20,spa:20,spd:20,spe:20},ev_level:5},moves:["Aqua Jet","Bite","Fury Attack","Laser Focus"]},{name:"Chewtle",lv:26,gender:"M",nature:"Adamant",ability:"Strong Jaw",isAce:!0,stats_meta:{ivs:{hp:25,atk:25,def:25,spa:25,spd:25,spe:25},ev_level:30},moves:["Water Gun","Bite","Headbutt","Protect"]}]},2:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!0,enable_tera:!1},party:[{name:"Pelipper",lv:48,gender:"M",nature:"Modest",ability:"Drizzle",stats_meta:{ivs:{hp:31,atk:0,def:25,spa:31,spd:25,spe:31},ev_level:85},moves:["Scald","Hurricane","Water Pulse","Roost"]},{name:"Barraskewda",lv:49,gender:"F",nature:"Adamant",ability:"Swift Swim",stats_meta:{ivs:{hp:31,atk:31,def:20,spa:10,spd:20,spe:31},ev_level:120},moves:["Liquidation","Aqua Jet","Bite","Flip Turn"]},{name:"Araquanid",lv:49,gender:"F",nature:"Adamant",ability:"Water Bubble",stats_meta:{ivs:{hp:31,atk:31,def:25,spa:10,spd:25,spe:20},ev_level:85},moves:["Liquidation","Bug Bite","Crunch","Mirror Coat"]},{name:"Drednaw",lv:52,gender:"M",nature:"Adamant",ability:"Strong Jaw",mechanic:"dynamax",item:"Hard Stone",isAce:!0,stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:180},moves:["Razor Shell","Rock Tomb","Jaw Lock","Crunch"]}]},3:{unlocks:{false:!1,enable_dynamax:!0},party:[{name:"Pelipper",lv:75,gender:"F",nature:"Modest",ability:"Drizzle",item:"Damp Rock",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Hurricane","Hydro Pump","U-turn","Roost"]},{name:"Ludicolo",lv:74,gender:"M",nature:"Modest",ability:"Swift Swim",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Hydro Pump","Giga Drain","Ice Beam","Rain Dance"]},{name:"Golisopod",lv:76,gender:"M",nature:"Adamant",ability:"Emergency Exit",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:180},moves:["First Impression","Liquidation","Aqua Jet","Sucker Punch"]},{name:"Drednaw",lv:78,gender:"M",nature:"Adamant",mechanic:"dynamax",ability:"Swift Swim",item:"White Herb",isAce:!0,stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:252},moves:["Liquidation","Stone Edge","Superpower","Swords Dance"]},{name:"Toxapex",lv:73,gender:"F",nature:"Bold",ability:"Regenerator",item:"Black Sludge",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:200},moves:["Scald","Recover","Haze","Toxic"]}]},4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!0,enable_tera:!1},party:[{name:"Pelipper",lv:88,gender:"F",nature:"Bold",ability:"Drizzle",item:"Damp Rock",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Scald","Hurricane","U-turn","Roost"]},{name:"Barraskewda",lv:89,gender:"M",nature:"Adamant",ability:"Swift Swim",item:"Choice Band",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:252},moves:["Liquidation","Close Combat","Psychic Fangs","Flip Turn"]},{name:"Golisopod",lv:88,gender:"M",nature:"Adamant",ability:"Emergency Exit",item:"Assault Vest",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:252},moves:["First Impression","Aqua Jet","Leech Life","Close Combat"]},{name:"Drednaw",lv:90,gender:"M",nature:"Adamant",ability:"Swift Swim",mechanic:"dynamax",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:252},moves:["Liquidation","Stone Edge","Superpower","Ice Fang"],isAce:!0,friendship:{trust:140,passion:180,insight:100,devotion:120}},{name:"Seaking",lv:85,gender:"F",nature:"Careful",ability:"Lightning Rod",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:252},moves:["Waterfall","Knock Off","Drill Run","Horn Drill"]},{name:"Toxapex",lv:86,gender:"F",nature:"Bold",ability:"Regenerator",item:"Black Sludge",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:0},ev_level:252},moves:["Scald","Recover","Haze","Toxic Spikes"]}]}},MARNIE_DATA={1:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Croagunk",lv:24,gender:"M",nature:"Adamant",ability:"Dry Skin",stats_meta:{ivs:{hp:20,atk:20,def:20,spa:20,spd:20,spe:20},ev_level:20},moves:["Poison Sting","Revenge","Sucker Punch","Venoshock"]},{name:"Scraggy",lv:24,gender:"M",nature:"Impish",ability:"Shed Skin",item:"Eviolite",stats_meta:{ivs:{hp:25,atk:25,def:25,spa:25,spd:25,spe:25},ev_level:40},moves:["Headbutt","Brick Break","Payback","Work Up"]},{name:"Morpeko",lv:26,gender:"F",nature:"Jolly",ability:"Hunger Switch",item:"Oran Berry",isAce:!0,stats_meta:{ivs:{hp:25,atk:25,def:25,spa:25,spd:25,spe:25},ev_level:50},moves:["Aura Wheel","Bite","Quick Attack","Protect"]}]},2:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Liepard",lv:48,gender:"F",nature:"Jolly",ability:"Prankster",stats_meta:{ivs:{hp:31,atk:25,def:25,spa:10,spd:25,spe:31},ev_level:120},moves:["Fake Out","Torment","Sucker Punch","U-turn"]},{name:"Toxicroak",lv:49,gender:"M",nature:"Jolly",stats_meta:{ivs:{hp:25,atk:31,def:25,spa:25,spd:25,spe:31},ev_level:85},moves:["Poison Jab","Drain Punch","Sucker Punch","Venoshock"]},{name:"Scrafty",lv:49,gender:"M",nature:"Careful",ability:"Intimidate",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:20,spd:31,spe:20},ev_level:120},moves:["Brick Break","Crunch","Ice Punch","Headbutt"]},{name:"Morpeko",lv:51,gender:"F",nature:"Jolly",item:"Silk Scarf",isAce:!0,stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Aura Wheel","Crunch","Seed Bomb","Quick Attack"]}]},3:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!0,enable_tera:!1},party:[{name:"Liepard",lv:73,gender:"F",nature:"Jolly",ability:"Prankster",item:"Light Clay",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Fake Out","Taunt","Sucker Punch","Play Rough"]},{name:"Toxicroak",lv:74,gender:"M",nature:"Jolly",ability:"Dry Skin",item:"Black Sludge",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Sludge Bomb","Drain Punch","Nasty Plot","Vacuum Wave"]},{name:"Scrafty",lv:74,gender:"M",nature:"Adamant",ability:"Moxie",item:"Assault Vest",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:20,spd:31,spe:31},ev_level:180},moves:["Close Combat","Crunch","Ice Punch","Poison Jab"]},{name:"Morpeko",lv:75,gender:"F",nature:"Jolly",item:"Choice Band",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:200},moves:["Aura Wheel","Psychic Fangs","Seed Bomb","Parting Shot"]},{name:"Grimmsnarl",lv:76,gender:"M",nature:"Impish",ability:"Prankster",item:"Leftovers",mechanic:"dynamax",isAce:!0,stats_meta:{ivs:{hp:31,atk:31,def:31,spa:20,spd:31,spe:31},ev_level:252},moves:["Spirit Break","Darkest Lariat","Bulk Up","Play Rough"]}]},4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!0,enable_tera:!1},party:[{name:"Grimmsnarl",lv:95,gender:"M",nature:"Adamant",ability:"Prankster",item:"Leftovers",mechanic:"dynamax",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Spirit Break","Darkest Lariat","Thunder Wave","Bulk Up"],isAce:!0,friendship:{trust:180,passion:200,insight:140,devotion:120}},{name:"Morpeko",lv:92,gender:"F",nature:"Jolly",ability:"Hunger Switch",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Aura Wheel","Psychic Fangs","Seed Bomb","Protect"]},{name:"Obstagoon",lv:90,gender:"M",nature:"Jolly",ability:"Guts",item:"Flame Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Facade","Knock Off","Obstruct","Close Combat"]},{name:"Scrafty",lv:90,gender:"M",nature:"Careful",ability:"Shed Skin",item:"Chesto Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Dragon Dance","Drain Punch","Crunch","Rest"]},{name:"Toxicroak",lv:88,gender:"M",nature:"Jolly",ability:"Dry Skin",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Gunk Shot","Drain Punch","Sucker Punch","Swords Dance"]},{name:"Liepard",lv:88,gender:"F",nature:"Jolly",ability:"Prankster",item:"Eject Button",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Encore","Thunder Wave","Foul Play","U-turn"]}]}},HEX_DATA={1:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Duskull",lv:24,gender:"F",nature:"Sassy",ability:"Levitate",stats_meta:{ivs:{hp:20,atk:15,def:25,spa:15,spd:25,spe:10},ev_level:10},moves:["Night Shade","Disable","Will-O-Wisp","Shadow Sneak"]},{name:"Litwick",lv:24,gender:"F",nature:"Modest",ability:"Flash Fire",stats_meta:{ivs:{hp:20,atk:15,def:15,spa:25,spd:15,spe:20},ev_level:20},moves:["Ember","Hex","Minimize","Smog"]},{name:"Shuppet",lv:26,gender:"F",nature:"Adamant",ability:"Insomnia",isAce:!0,item:"Spell Tag",stats_meta:{ivs:{hp:25,atk:25,def:20,spa:15,spd:20,spe:25},ev_level:40},moves:["Shadow Sneak","Knock Off","Curse","Screech"]}]},2:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Dusclops",lv:49,gender:"F",nature:"Relaxed",ability:"Pressure",item:"Eviolite",stats_meta:{ivs:{hp:31,atk:25,def:31,spa:20,spd:31,spe:0},ev_level:120},moves:["Trick Room","Curse","Pain Split","Ice Punch"]},{name:"Lampent",lv:48,gender:"F",nature:"Modest",ability:"Flame Body",stats_meta:{ivs:{hp:25,atk:0,def:25,spa:31,spd:25,spe:31},ev_level:85},moves:["Shadow Ball","Flamethrower","Confuse Ray","Energy Ball"]},{name:"Doublade",lv:48,gender:"F",nature:"Brave",ability:"No Guard",item:"Eviolite",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:25,spe:0},ev_level:85},moves:["Swords Dance","Shadow Sneak","Sacred Sword","Gyro Ball"]},{name:"Banette",lv:51,gender:"F",nature:"Adamant",ability:"Frisk",item:"Colbur Berry",isAce:!0,stats_meta:{ivs:{hp:31,atk:31,def:25,spa:10,spd:25,spe:31},ev_level:180},moves:["Phantom Force","Sucker Punch","Will-O-Wisp","Destiny Bond"]}]},3:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!0,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Dusclops",lv:74,gender:"F",nature:"Sassy",ability:"Pressure",item:"Eviolite",stats_meta:{ivs:{hp:31,atk:25,def:31,spa:25,spd:31,spe:0},ev_level:252},moves:["Night Shade","Will-O-Wisp","Trick Room","Memento"]},{name:"Chandelure",lv:75,gender:"F",nature:"Modest",ability:"Infiltrator",item:"Choice Specs",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Overheat","Shadow Ball","Energy Ball","Trick"]},{name:"Cofagrigus",lv:72,gender:"M",nature:"Bold",ability:"Mummy",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:200},moves:["Hex","Toxic Spikes","Protect","Body Press"]},{name:"Gothitelle",lv:73,gender:"F",nature:"Calm",ability:"Competitive",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:200},moves:["Psychic","Thunder Wave","Fake Out","Heal Pulse"]},{name:"Banette",lv:78,gender:"F",nature:"Adamant",ability:"Frisk",mechanic:"mega",item:"Banettite",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:252},isAce:!0,friendship:{trust:100,passion:80,insight:220,devotion:120},moves:["Destiny Bond","Gunk Shot","Phantom Force","Knock Off"]}]},4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!0,enable_mega:!0,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Sableye",lv:90,gender:"F",nature:"Bold",ability:"Prankster",item:"Sablenite",mechanic:"mega",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Calm Mind","Recover","Will-O-Wisp","Shadow Ball"],isAce:!0,friendship:{trust:120,passion:80,insight:255,devotion:120}},{name:"Dusclops",lv:88,gender:"F",nature:"Relaxed",ability:"Pressure",item:"Eviolite",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:0},ev_level:252},moves:["Night Shade","Pain Split","Will-O-Wisp","Trick Room"]},{name:"Chandelure",lv:88,gender:"F",nature:"Timid",ability:"Infiltrator",item:"Choice Scarf",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Fire Blast","Shadow Ball","Energy Ball","Trick"]},{name:"Banette",lv:87,gender:"F",nature:"Adamant",ability:"Insomnia",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Gunk Shot","Destiny Bond","Knock Off","Phantom Force"]},{name:"Gourgeist-Super",lv:86,gender:"F",nature:"Impish",ability:"Frisk",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Leech Seed","Protect","Poltergeist","Shadow Sneak"]},{name:"Meowstic-F",name:"Gothitelle",lv:86,gender:"F",nature:"Calm",ability:"Competitive",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Psychic","Thunder Wave","Cosmic Power","Stored Power"]}]}},BEA_DATA={1:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Tyrogue",lv:24,gender:"M",nature:"Adamant",ability:"Guts",stats_meta:{ivs:{hp:20,atk:25,def:20,spa:15,spd:20,spe:20},ev_level:10},moves:["Mach Punch","Fake Out","Tackle","Focus Energy"]},{name:"Pancham",lv:25,gender:"M",nature:"Adamant",ability:"Iron Fist",item:"Muscle Band",stats_meta:{ivs:{hp:25,atk:25,def:25,spa:15,spd:25,spe:20},ev_level:20},moves:["Comet Punch","Circle Throw","Karate Chop","Work Up"]},{name:"Farfetch'd-Galar",lv:26,gender:"M",nature:"Brave",ability:"Scrappy",item:"Leek",isAce:!0,stats_meta:{ivs:{hp:25,atk:25,def:25,spa:15,spd:25,spe:20},ev_level:40},moves:["Rock Smash","Peck","Fury Cutter","Focus Energy"]}]},2:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Hitmontop",lv:48,gender:"M",nature:"Impish",ability:"Intimidate",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:20},ev_level:85},moves:["Fake Out","Rapid Spin","Close Combat","Sucker Punch"]},{name:"Pangoro",lv:49,gender:"M",nature:"Adamant",ability:"Iron Fist",stats_meta:{ivs:{hp:31,atk:31,def:25,spa:10,spd:25,spe:20},ev_level:85},moves:["Hammer Arm","Bullet Punch","Crunch","Ice Punch"]},{name:"Sirfetch'd",lv:50,gender:"M",nature:"Adamant",ability:"Scrappy",item:"Leek",stats_meta:{ivs:{hp:31,atk:31,def:25,spa:10,spd:25,spe:31},ev_level:120},moves:["Brick Break","Poison Jab","Leaf Blade","Swords Dance"]},{name:"Machamp",lv:52,gender:"M",nature:"Example",ability:"Guts",item:"Sitrus Berry",isAce:!0,stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:120},moves:["Cross Chop","Bullet Punch","Ice Punch","Knock Off"]}]},3:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!0,enable_tera:!1},party:[{name:"Falinks",lv:73,gender:"N",nature:"Jolly",ability:"Defiant",item:"Sitrus Berry",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["No Retreat","Close Combat","Iron Head","Throat Chop"]},{name:"Grapploct",lv:74,gender:"M",nature:"Careful",ability:"Technician",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:20},ev_level:180},moves:["Octolock","Drain Punch","Sucker Punch","Protect"]},{name:"Hawlucha",lv:75,gender:"M",nature:"Jolly",ability:"Unburden",item:"White Herb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Close Combat","Acrobatics","Poison Jab","Swords Dance"]},{name:"Machamp",lv:78,gender:"M",nature:"Adamant",ability:"Guts",item:"Flame Orb",mechanic:"dynamax",isAce:!0,stats_meta:{ivs:{hp:31,atk:31,def:31,spa:10,spd:31,spe:31},ev_level:252},moves:["Facade","Close Combat","Thunder Punch","Bullet Punch"],friendship:{trust:160,passion:180,insight:100,devotion:120}}]},4:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!0,enable_tera:!1},party:[{name:"Grapploct",lv:88,gender:"M",nature:"Careful",ability:"Limber",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Octolock","Protect","Drain Punch","Sucker Punch"]},{name:"Pangoro",lv:89,gender:"M",nature:"Adamant",ability:"Scrappy",item:"Choice Band",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Gunk Shot","Close Combat","Knock Off","Bullet Punch"]},{name:"Sirfetch'd",lv:90,gender:"M",nature:"Adamant",ability:"Scrappy",item:"Leek",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Meteor Assault","Brave Bird","Close Combat","Thousand Arrows (?)"]},{name:"Hawlucha",lv:90,gender:"M",nature:"Jolly",ability:"Mold Breaker",item:"Life Orb",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Swords Dance","Close Combat","Brave Bird","Roost"]},{name:"Falinks",lv:87,gender:"N",nature:"Jolly",ability:"Defiant",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["No Retreat","Close Combat","Throat Chop","Megahorn"]},{name:"Machamp",lv:95,gender:"M",nature:"Adamant",ability:"Guts",item:"Flame Orb",mechanic:"dynamax",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Facade","Close Combat","Heavy Slam","Stone Edge"],isAce:!0,hasSecondWind:!0,friendship:{trust:100,passion:200,insight:140,devotion:120}}]}},CYNTHIA_DATA={2:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!0,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Spiritomb",lv:61,gender:"F",nature:"Quiet",ability:"Pressure",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:0},ev_level:85},moves:["Sucker Punch","Psychic","Shadow Ball","Embargo"]},{name:"Roserade",lv:60,gender:"F",nature:"Timid",ability:"Natural Cure",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:85},moves:["Sludge Bomb","Energy Ball","Shadow Ball","Extrasensory"]},{name:"Gastrodon",lv:60,gender:"F",nature:"Modest",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:85},moves:["Muddy Water","Earth Power","Sludge Bomb","Stone Edge"]},{name:"Lucario",lv:63,gender:"M",nature:"Naive",ability:"Inner Focus",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:120},moves:["Aura Sphere","Dragon Pulse","Extreme Speed","Close Combat"]},{name:"Milotic",lv:63,gender:"F",nature:"Bold",item:"Flame Orb",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:120},moves:["Hydro Pump","Ice Beam","Mirror Coat","Recover"]},{name:"Garchomp",lv:66,gender:"F",nature:"Jolly",ability:"Rough Skin",item:"Garchompite",mechanic:"mega",isAce:!0,stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Dragon Rush","Earthquake","Brick Break","Giga Impact"]}]},3:{unlocks:{enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!0,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Spiritomb",lv:80,gender:"F",nature:"Bold",ability:"Infiltrator",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:0},ev_level:180},moves:["Dream Eater","Dark Pulse","Hypnosis","Shadow Ball"]},{name:"Togekiss",lv:83,gender:"M",nature:"Timid",ability:"Serene Grace",item:"Leftovers",item:"Weakness Policy",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:180},moves:["Air Slash","Dazzling Gleam","Aura Sphere","Nasty Plot"]},{name:"Eelektross",lv:83,gender:"M",nature:"Quiet",item:"Assault Vest",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Wild Charge","Flamethrower","Giga Drain","Dragon Claw"]},{name:"Milotic",lv:84,gender:"F",nature:"Bold",ability:"Competitive",item:"Flame Orb",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Scald","Recover","Ice Beam","Mirror Coat"]},{name:"Lucario",lv:84,gender:"M",nature:"Naive",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Close Combat","Meteor Mash","Extreme Speed","Swords Dance"]},{name:"Garchomp",lv:88,gender:"F",nature:"Jolly",mechanic:"mega",item:"Garchompite",isAce:!0,stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Dragon Claw","Earthquake","Poison Jab","Swords Dance"]}]},4:{unlocks:{enable_bond:!0,enable_styles:!0,enable_insight:!0,enable_mega:!0,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1},party:[{name:"Spiritomb",lv:95,gender:"F",nature:"Bold",ability:"Infiltrator",item:"Kee Berry",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Hypnosis","Memento","Foul Play","Will-O-Wisp"]},{name:"Togekiss",lv:95,gender:"M",nature:"Timid",ability:"Serene Grace",item:"Choice Scarf",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Air Slash","Dazzling Gleam","Aura Sphere","Fire Blast"]},{name:"Milotic",lv:95,gender:"F",nature:"Bold",ability:"Competitive",item:"Leftovers",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Hydro Pump","Blizzard","Recover","Mirror Coat"]},{name:"Lucario",lv:96,gender:"M",nature:"Naughty",ability:"Justified",item:"Focus Sash",stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Swords Dance","Close Combat","Extreme Speed","Psychic"]},{name:"Volcarona",lv:96,gender:"F",nature:"Modest",ability:"Flame Body",item:"Heavy-Duty Boots",stats_meta:{ivs:{hp:31,atk:0,def:31,spa:31,spd:31,spe:31},ev_level:252},moves:["Quiver Dance","Fiery Dance","Bug Buzz","Giga Drain"]},{name:"Garchomp",lv:100,gender:"F",nature:"Naughty",mechanic:"mega",item:"Garchompite",isAce:!0,hasSecondWind:!0,stats_meta:{ivs:{hp:31,atk:31,def:31,spa:31,spd:31,spe:31},ev_level:{hp:0,atk:252,def:0,spa:100,spd:0,spe:158}},moves:["Earthquake","Stone Edge","Draco Meteor","Poison Jab"],friendship:{trust:255,passion:255,insight:255,devotion:200}}]}};"undefined"!=typeof window&&(window.GLORIA_DATA=GLORIA_DATA,window.SELENE_DATA=SELENE_DATA,window.ROSA_DATA=ROSA_DATA,window.DAWN_DATA=DAWN_DATA,window.AKARI_DATA=AKARI_DATA,window.SERENA_DATA=SERENA_DATA,window.LUSAMINE_DATA=LUSAMINE_DATA,window.LILLIE_DATA=LILLIE_DATA,window.MALLOW_DATA=MALLOW_DATA,window.LANA_DATA=LANA_DATA,window.IRIDA_DATA=IRIDA_DATA,window.SONIA_DATA=SONIA_DATA,window.ROXIE_DATA=ROXIE_DATA,window.IONO_DATA=IONO_DATA,window.ERIKA_DATA=ERIKA_DATA,window.NESSA_DATA=NESSA_DATA,window.MARNIE_DATA=MARNIE_DATA,window.HEX_DATA=HEX_DATA,window.BEA_DATA=BEA_DATA,window.CYNTHIA_DATA=CYNTHIA_DATA,window.JULIANA_DATA=JULIANA_DATA,window.TRAINER_GLOBALS={gloria:GLORIA_DATA,selene:SELENE_DATA,rosa:ROSA_DATA,dawn:DAWN_DATA,akari:AKARI_DATA,serena:SERENA_DATA,juliana:JULIANA_DATA,lusamine:LUSAMINE_DATA,lillie:LILLIE_DATA,mallow:MALLOW_DATA,lana:LANA_DATA,irida:IRIDA_DATA,sonia:SONIA_DATA,roxie:ROXIE_DATA,iono:IONO_DATA,erika:ERIKA_DATA,nessa:NESSA_DATA,marnie:MARNIE_DATA,hex:HEX_DATA,bea:BEA_DATA,cynthia:CYNTHIA_DATA});const NPC_TRIGGERS={lusamine:["Lusamine","","","","",""],erika:["Erika","","",""],roxie:["Roxie","Homika","","",""],iono:["Iono","Nanjamo","","",""],marnie:["Marnie","Mary","","","",""],cynthia:["Cynthia","Shirona","","","","",""],bea:["Bea","Saito","",""],sonia:["Sonia","","",""],gloria:["Gloria","Yuuri","","","",""],rosa:["Rosa","Mei","","","",""],dawn:["Dawn","Hikari","",""],serena:["Serena","","","",""],irida:["Irida","Kai","","",""],akari:["Akari","Sho","",""],nessa:["Nessa","Rurina","",""],mallow:["Mallow","Mao","","","",""],lana:["Lana","Suiren","","",""],lillie:["Lillie","Lilie","","","",""],hex:["Hex Maniac","Occult Maniac","","","","Hex","HeXx",""],selene:["Selene","Mizuki","","","Moon"],juliana:["Juliana","Aoi","",""]},NPC_ADDON_DATA={gloria:{name_cn:"",name_en:"Gloria",unlock_key:"enable_dynamax",unlock_item:{name_cn:"",name_en:"Stickered Dynamax Band",emoji:"",desc:"",effect:" - ",dialogue:""},relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},rosa:{name_cn:"",name_en:"Rosa",unlock_key:"enable_bond",unlock_item:{name_cn:"",name_en:'The "Unbroken-Gem" Sync IEM',emoji:"",desc:"",effect:" - ",dialogue:""},relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:'""'},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},dawn:{name_cn:"",name_en:"Dawn",unlock_key:"enable_insight",unlock_item:{name_cn:"",name_en:"The Jammed-Button Poketch",emoji:"",desc:"MAX",effect:"/ - UI/",dialogue:""},relationship_stage:{negative:{"-2":{label:"",desc:'""'},"-1":{label:"",desc:'""'}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:'""'},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},akari:{name_cn:"",name_en:"Akari",unlock_key:"enable_styles",unlock_item:{name_cn:"",name_en:"The Bitten Red Scarf",emoji:"",desc:"",effect:" - ",dialogue:""},relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},serena:{name_cn:"",name_en:"Serena",unlock_key:"enable_mega",unlock_item:{name_cn:"",name_en:"Blue Ribbon Key Stone Choker",emoji:"",desc:" Mega  (Key Stone)",effect:"Mega - ",dialogue:""},relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},lusamine:{name_cn:"",name_en:"Lusamine",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:'""'}},positive:{1:{label:"",desc:""},2:{label:"",desc:'""'},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},lillie:{name_cn:"",name_en:"Lillie",relationship_stage:{negative:{"-2":{label:"",desc:'""'},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},mallow:{name_cn:"",name_en:"Mallow",relationship_stage:{negative:{"-2":{label:"",desc:'""'},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},lana:{name_cn:"",name_en:"Lana",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},irida:{name_cn:"",name_en:"Irida",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:'""'}}},love_thresholds:{1:20,2:40,3:60,4:80}},sonia:{name_cn:"",name_en:"Sonia",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},roxie:{name_cn:"",name_en:"Roxie",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:'""'},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},iono:{name_cn:"",name_en:"Iono",relationship_stage:{negative:{"-2":{label:"",desc:"anti"},"-1":{label:"",desc:"/"}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},erika:{name_cn:"",name_en:"Erika",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},nessa:{name_cn:"",name_en:"Nessa",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},marnie:{name_cn:"",name_en:"Marnie",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},hex:{name_cn:"",name_en:"Hex Maniac",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},bea:{name_cn:"",name_en:"Bea",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},cynthia:{name_cn:"",name_en:"Cynthia",relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}},selene:{name_cn:"",name_en:"Selene",unlock_key:"enable_z_move",unlock_item:{name_cn:"Z",name_en:"Selene's Spare Z-Power Ring",emoji:"",desc:" Z SELENE",effect:"Z - Z",dialogue:"~"},relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:""},3:{label:"",desc:""},4:{label:"",desc:"Z"}}},love_thresholds:{1:20,2:40,3:60,4:80}},juliana:{name_cn:"",name_en:"Juliana",unlock_key:"enable_tera",unlock_item:{name_cn:"",name_en:"Heavy Cargo & Tera Orb",emoji:"",desc:"18",effect:" -  <> ",dialogue:""},relationship_stage:{negative:{"-2":{label:"",desc:""},"-1":{label:"",desc:""}},neutral:{0:{label:"",desc:""}},positive:{1:{label:"",desc:""},2:{label:"",desc:"Switch"},3:{label:"",desc:""},4:{label:"",desc:""}}},love_thresholds:{1:20,2:40,3:60,4:80}}};"undefined"!=typeof window&&(window.NPC_TRIGGERS=NPC_TRIGGERS,window.NPC_ADDON_DATA=NPC_ADDON_DATA),async function(){"use strict";const e="[PKM]",a="PKM_BATTLE",t="pkm_player_data";let n=null,s=!1;function l(e){return new Promise(a=>setTimeout(a,e))}async function i(){return new Promise((a,t)=>{const n=setTimeout(()=>{console.warn(`${e} ERA `),a(null)},5e3);eventOn("era:queryResult",e=>{"getCurrentVars"===e.queryType&&(clearTimeout(n),a(e.result?.statWithoutMeta||null))},{once:!0}),eventEmit("era:getCurrentVars")})}async function o(a){return new Promise(async t=>{const n=await i(),s={};for(const[t,l]of Object.entries(a)){const a=t.split(".");let i=s;if(t.includes("stats_meta")&&"object"==typeof l&&void 0!==l.ev_level){const a=_.get(n,`${t}.ev_level`,0),s=l.ev_level;console.log(`${e} [EV_LEVEL] : ${t}, : ${a}, AI: ${s}`),s<a?(l.ev_level=a+s,console.log(`${e} [EV_LEVEL] : ${a} + ${s} = ${l.ev_level}`)):console.log(`${e} [EV_LEVEL] : ${a} -> ${s}`)}for(let e=0;e<a.length-1;e++){const t=a[e];i[t]||(i[t]={}),i=i[t]}i[a[a.length-1]]=l}console.log(`${e} [DEBUG]  ERA :`,JSON.stringify(s,null,2)),eventEmit("era:updateByObject",s),setTimeout(()=>{console.log(`${e} [DEBUG] ERA `),t()},100)})}async function r(){const e=await i();if(!e)return null;return _.get(e,"pkm.player",null)}function m(e){return{slot:e,name:null,nickname:null,species:null,gender:null,lv:null,quality:null,nature:null,ability:null,shiny:!1,item:null,moves:{move1:null,move2:null,move3:null,move4:null},stats_meta:{ivs:{hp:null,atk:null,def:null,spa:null,spd:null,spe:null},ev_level:null},notes:null}}async function p(a,t=null){console.warn(`${e} setPlayerParty  VariableEdit `);const n=await i(),s=function(e){return[...w(e?.party),...w(e?.reserve)]}(_.get(n,"pkm.player",{name:"",party:{slot1:m(1),slot2:m(2),slot3:m(3),slot4:m(4),slot5:m(5),slot6:m(6)},reserve:{}}));if("single"!==a)return console.warn(`${e}  ${a}  VariableEdit`),null;if("string"==typeof t){const a=s.find(e=>e.name?.toLowerCase()===t.toLowerCase()||e.nickname?.toLowerCase()===t.toLowerCase());return a?(o({"pkm.player.party.slot1":a}),console.log(`${e}   ${a.name}  slot1`),a):(console.warn(`${e} : ${t}`),null)}return null}function d(t){let n=t;n=n.replace(/[\s\S]*<\/planning>/gi,""),n=n.replace(/[\s\S]*<\/think>/gi,"");const s=new RegExp(`<${a}>([\\s\\S]*?)<\\/${a}>`,"gi");let l=null,i=null;for(;null!==(l=s.exec(n));)i=l;if(!i)return null;try{const a=function(e){if(!e)return null;const a=e.trim();if(!a)return null;if(a.startsWith("{")||a.startsWith("[")){const e=a.startsWith("{")?"}":"]",t=a.lastIndexOf(e);return-1!==t?a.slice(0,t+1):a}const t=a.indexOf("{");let n=-1,s=null;if(-1!==t)n=t,s="}";else{const e=a.indexOf("[");-1!==e&&(n=e,s="]")}if(-1===n)return null;const l=a.slice(n),i=s?l.lastIndexOf(s):-1;return-1!==i?l.slice(0,i+1):l}(i[1]);if(!a)throw new Error("JSON");console.log(`${e} JSON:`,a.substring(0,100)+"...");const t=function(e){let a="",t=0,n=!1,s=null;for(;t<e.length;){const l=e[t],i=e[t+1];if(n||'"'!==l&&"'"!==l)if(n){if(a+=l,"\\"===l&&i){a+=i,t+=2;continue}l===s&&(n=!1,s=null),t++}else if("/"!==l||"/"!==i)if("/"!==l||"*"!==i)a+=l,t++;else for(t+=2;t<e.length-1;){if("*"===e[t]&&"/"===e[t+1]){t+=2;break}t++}else for(t+=2;t<e.length&&"\n"!==e[t]&&"\r"!==e[t];)t++;else n=!0,s=l,a+=l,t++}return a}(a),n=JSON.parse(t);return console.log(`${e} AI:`,n),function(a){if(a.player||a.enemy)return a;if(!a.p1&&!a.p2)return a;console.log(`${e} ==========  ==========`);const t={difficulty:a.difficulty||"normal",battle_type:a.battle_type||"double"},n=a.tier||2;if(a.p1){const s=a.p1.entrants||a.p1.trainers;if(s&&Array.isArray(s)){console.log(`${e} [P1] : ${s.length} `);const l=s.map(e=>v(e,n)),i=y(l);console.log(`${e} [P1]  unlocks:`,l.map(e=>({name:e.name,unlocks:e.unlocks})));const o=h(...l.map(e=>e.unlocks));console.log(`${e} [P1]  unlocks:`,o),t.player={name:i.names,party:i.party,_trainerMetadata:i.trainerMetadata,_trainersData:l,unlocks:a.p1.unlocks||o},console.log(`${e} [P1] : ${i.names}, : ${i.party.map(e=>"string"==typeof e?e:e.name).join(", ")}`)}else t.player=a.p1}if(a.p2){const s=a.p2.entrants||a.p2.trainers;if(s&&Array.isArray(s)){console.log(`${e} [P2] : ${s.length} `);const l=s.map(e=>v(e,n)),i=y(l),o=l.some(e=>"wild"===e.trainerType),r=l.every(e=>"db_trainer"===e.trainerType),m=l.find(e=>e.lines),p=h(...l.map(e=>e.unlocks));t.enemy={type:o?"wild":"trainer",name:i.names,party:i.party,_trainerMetadata:i.trainerMetadata,_trainersData:l,lines:a.p2.lines||(m?m.lines:{}),unlocks:a.p2.unlocks||p,_allDbTrainers:r},console.log(`${e} [P2] : ${i.names}, : ${t.enemy.type}`)}else{const s=v({name:a.p2.name,party:a.p2.party,tier:a.p2.tier||n,type:a.p2.type,unlocks:a.p2.unlocks,lines:a.p2.lines},n);t.enemy={type:"wild"===s.trainerType?"wild":"trainer",name:s.name,party:s.party,lines:a.p2.lines||{},unlocks:a.p2.unlocks||s.unlocks,tier:a.p2.tier},console.log(`${e} [P2] : ${s.name}, : ${s.trainerType}`)}}return console.log(`${e} ==========  ==========`),t}(n)}catch(a){return console.error(`${e} AI:`,a),null}}function c(a,t,n=2){console.log(`${e} [DEBUG] : ${a}, : ${t.join(", ")}, Tier: ${n}`);const s=a.toLowerCase().replace(/[^a-z0-9\u4e00-\u9fa5]/g,"");if(["player","","","","{{user}}","user"].some(e=>s.includes(e)||a.includes(e))||"{{user}}"===a||a.includes("{{user}}"))return console.log(`${e} [DEBUG] "${a}"  ERA `),{party:[],unlocks:null};const l=f(),i={hexmaniac:"hex",ionostreamer:"iono",nanjamo:"iono",hikari:"dawn",mei:"rosa",yuuri:"gloria"}[s]||s;console.log(`${e} [DEBUG] : "${a}" -> "${s}" -> "${i}"`);const o=l[i];if(!o)return console.log(`${e} [DEBUG]  "${a}" `),console.log(`${e} [DEBUG] :`,Object.keys(l).join(", ")),{party:[],unlocks:null};const r=Math.max(1,Math.min(4,n));let m=o[r],p=r;const d=e=>e?Array.isArray(e)?e:e.party&&Array.isArray(e.party)?e.party:null:null,c=e=>e?Array.isArray(e)?null:e.unlocks?e.unlocks:null:null;let v=d(m),u=c(m);if(!v){const t=Object.keys(o).filter(e=>/^\d+$/.test(e)).map(Number).sort((e,a)=>e-a);console.log(`${e} [DEBUG]  "${a}"  Tier ${r}: ${t.join(", ")}`),t.length>0&&(3===r&&!t.includes(3)&&t.includes(4)?(p=4,console.log(`${e} [] Tier 3  Tier 4`)):1===r&&!t.includes(1)&&"cynthia"===i&&t.includes(2)?(p=2,console.log(`${e} [] Cynthia  Tier 1 Tier 2`)):(p=t.reduce((e,a)=>Math.abs(a-r)<Math.abs(e-r)?a:e),console.log(`${e} [DEBUG]  Tier ${p} `)),m=o[p],v=d(m),u=c(m))}if(!v)return console.log(`${e} [DEBUG]  "${a}" `),{party:[],unlocks:null};if(console.log(`${e} [DEBUG] ${a} Tier ${p} :`,v.map(e=>e.name).join(", ")),u&&console.log(`${e} [DEBUG] ${a} Tier ${p} unlocks:`,u),!t||0===t.length)return console.log(`${e} [DEBUG]  ${a}  (${v.length} )`),{party:v,unlocks:u};const _=[];for(const s of t){const t=s.toLowerCase().replace(/[^a-z0-9]/g,""),l=v.find(e=>{const a=(e.name||"").toLowerCase().replace(/[^a-z0-9]/g,"");return a===t||a.includes(t)||t.includes(a)});l?(_.push(l),console.log(`${e} [DEBUG]   ${a} : ${l.name}`)):(console.warn(`${e} [DEBUG]   ${a} : ${s} tier `),_.push({name:s,_needGenerate:!0,_tier:n}))}return{party:_,unlocks:u}}function v(a,t=2){const n=a.name||"Unknown",s=a.tier||t,l=function(e,a=""){const t=(e||"").toLowerCase().replace(/[^a-z0-9]/g,"");return["player","","","user"].some(e=>t.includes(e))||"{{user}}"===e||e.includes("{{user}}")?"player":"wild"===a.toLowerCase()||t.includes("wild")||//.test(e||"")?"wild":f()[{hexmaniac:"hex",ionostreamer:"iono",nanjamo:"iono",hikari:"dawn",mei:"rosa",yuuri:"gloria"}[t]||t]?"db_trainer":"generated_trainer"}(n,a.type||"");console.log(`${e} [DOUBLE] : ${n}, : ${l}, Tier: ${s}`);const i=["player","","","{{user}}","user"].some(e=>n.toLowerCase().includes(e.toLowerCase()))||"{{user}}"===n||n.includes("{{user}}");let o=[],r=null;if(i)console.log(`${e} [DOUBLE] "${n}"  ERA `),o=a.party||[];else if("db_trainer"===l){if(a.party&&Array.isArray(a.party)){if(a.party.some(e=>"object"==typeof e&&(void 0!==e.lv||void 0!==e.moves))){console.log(`${e} [DOUBLE] ${n}  AI `),o=a.party.map(e=>"string"==typeof e?{name:e,_needGenerate:!0,_tier:s}:{...e,_needGenerate:!0,_tier:s});r=c(n,[],s).unlocks}else{const t=a.party.map(e=>"string"==typeof e?e:e.name),l=c(n,t,s),i=l.party||l;r=l.unlocks,i.length>0?o=i:(console.log(`${e} [DOUBLE] `),o=a.party.map(e=>"string"==typeof e?{name:e,_needGenerate:!0,_tier:s}:{...e,_needGenerate:!0,_tier:s}))}}else{const e=$(n,s);e&&e.party&&(o=e.party,r=e.unlocks)}r&&console.log(`${e} [DOUBLE] ${n}  unlocks:`,r)}else"wild"===l?(console.log(`${e} [DOUBLE]  AI `),o=(a.party||[]).map(e=>"string"==typeof e?{name:e,_needGenerate:!0,_tier:s}:{...e,_needGenerate:!0,_tier:s})):(console.log(`${e} [DOUBLE] NPC "${n}" AI `),o=(a.party||[]).map(e=>"string"==typeof e?{name:e,_needGenerate:!0,_tier:s}:{...e,_needGenerate:!0,_tier:s}));const m=u(o),p=h(a.unlocks,r,m);return console.log(`${e} [DOUBLE] ${n}  unlocks:`,p),{name:n,party:o,trainerType:l,isPlayer:i,tier:s,unlocks:p,lines:a.lines}}function u(e){const a={enable_mega:!1,enable_dynamax:!1,enable_tera:!1,enable_z_move:!1};if(!Array.isArray(e))return a;for(const t of e){const e=(t.mechanic||"").toLowerCase();"mega"===e&&(a.enable_mega=!0),"dynamax"!==e&&"gmax"!==e||(a.enable_dynamax=!0),"tera"===e&&(a.enable_tera=!0),"z_move"!==e&&"zmove"!==e&&"z"!==e||(a.enable_z_move=!0)}return a}function h(...e){const a={enable_bond:!1,enable_styles:!1,enable_insight:!1,enable_mega:!1,enable_z_move:!1,enable_dynamax:!1,enable_tera:!1};for(const t of e)if(t)for(const e of Object.keys(a))!0===t[e]&&(a[e]=!0);return a}function y(a){const t=[],n=[],s=[];if(a.forEach(e=>{s.push(e.name),e.party.forEach(a=>{t.push(a),n.push(e.name)})}),t.length>6){console.log(`${e} [DOUBLE] 6 (${t.length})6`);const a=t.map((e,a)=>a);for(let e=a.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[a[e],a[t]]=[a[t],a[e]]}const l=a.slice(0,6).sort((e,a)=>e-a),i=l.map(e=>t[e]),o=l.map(e=>n[e]);return console.log(`${e} [DOUBLE] : ${i.map(e=>"string"==typeof e?e:e.name).join(", ")}`),{party:i,trainerMetadata:o,names:s.join(" & ")}}return{party:t,trainerMetadata:n,names:s.join(" & ")}}function g(e){return Array.isArray(e)?e.map(e=>"string"==typeof e?e.trim():"").filter(Boolean).slice(0,4):[]}console.log(`${e} ...`);const b=["Hardy","Lonely","Brave","Adamant","Naughty","Bold","Docile","Relaxed","Impish","Lax","Timid","Hasty","Serious","Jolly","Naive","Modest","Mild","Quiet","Bashful","Rash","Calm","Gentle","Sassy","Careful","Quirky"];function f(){const a={},t=[];return[["gloria","GLORIA_DATA"],["selene","SELENE_DATA"],["rosa","ROSA_DATA"],["dawn","DAWN_DATA"],["akari","AKARI_DATA"],["serena","SERENA_DATA"],["juliana","JULIANA_DATA"],["lusamine","LUSAMINE_DATA"],["lillie","LILLIE_DATA"],["mallow","MALLOW_DATA"],["lana","LANA_DATA"],["irida","IRIDA_DATA"],["sonia","SONIA_DATA"],["roxie","ROXIE_DATA"],["iono","IONO_DATA"],["erika","ERIKA_DATA"],["nessa","NESSA_DATA"],["marnie","MARNIE_DATA"],["hex","HEX_DATA"],["bea","BEA_DATA"],["cynthia","CYNTHIA_DATA"]].forEach(([e,n])=>{void 0!==window[n]?a[e]=window[n]:t.push(n)}),t.length>0&&console.warn(`${e} [DEBUG] :`,t.join(", ")),a}function k(a){if(!a)return"";let t=String(a).trim();const n=[{pattern:/-Alolan$/i,replacement:"-Alola"},{pattern:/\s+Alolan$/i,replacement:"-Alola"},{pattern:/-Galarian$/i,replacement:"-Galar"},{pattern:/\s+Galarian$/i,replacement:"-Galar"},{pattern:/-Hisuian$/i,replacement:"-Hisui"},{pattern:/\s+Hisuian$/i,replacement:"-Hisui"},{pattern:/-Paldean$/i,replacement:"-Paldea"},{pattern:/\s+Paldean$/i,replacement:"-Paldea"}];for(const{pattern:s,replacement:l}of n)if(s.test(t)){t=t.replace(s,l),console.log(`${e} [NORMALIZE] "${a}" -> "${t}"`);break}return t}function A(a){if(!a||"undefined"==typeof POKEDEX)return null;const t=k(a);let n=t.toLowerCase().replace(/[^a-z0-9]/g,"");if(POKEDEX[n])return{data:POKEDEX[n],usedName:t,fallbackType:"direct"};const s=[{from:"alolan",to:"alola"},{from:"galarian",to:"galar"},{from:"hisuian",to:"hisui"},{from:"paldean",to:"paldea"}];for(const a of s)if(n.endsWith(a.from)){const s=n.slice(0,-a.from.length)+a.to;if(POKEDEX[s])return console.log(`${e} [SUFFIX FIX] "${n}" -> "${s}"`),{data:POKEDEX[s],usedName:t,fallbackType:"suffix_fix"}}console.warn(`${e} [FALLBACK] Data missing for "${a}" (normalized: "${t}", id: "${n}"). Trying base form...`);const l=["-"," "];for(const a of l)if(t.includes(a)){const n=t.split(a)[0];if(n&&n!==t){const a=n.toLowerCase().replace(/[^a-z0-9]/g,"");if(POKEDEX[a])return console.log(`${e} [FALLBACK SUCCESS] Using base species "${n}" (id: "${a}") instead of "${t}"`),{data:POKEDEX[a],usedName:n,fallbackType:"base_form"}}}return console.error(`${e} [FATAL] Pokemon "${a}" totally unknown. No fallback available.`),null}function S(a,t=null,n=!1){const s=a.name||"Rattata",l=k(s);let i=a.lv||a.level;!i&&t&&(i=function(e){return{1:25,2:50,3:75,4:85}[e]||50}(t),console.log(`${e} [GEN]  tier ${t} : ${i}`)),i||(i=5);const o=void 0!==a.shiny?a.shiny:Math.random()<1/4096;let r=a.quality;if(!r){const e=["mewtwo","mew","lugia","hooh","rayquaza","dialga","palkia","giratina","reshiram","zekrom","kyurem","xerneas","yveltal","zygarde","solgaleo","lunala","necrozma","zacian","zamazenta","eternatus","koraidon","miraidon"].includes(l.toLowerCase().replace(/[^a-z0-9]/g,""));r=o||e?"high":i>=50?"medium":"low"}const m=function(e="normal"){const a=()=>Math.floor(32*Math.random());switch(e){case"low":return{hp:Math.floor(16*Math.random()),atk:Math.floor(16*Math.random()),def:Math.floor(16*Math.random()),spa:Math.floor(16*Math.random()),spd:Math.floor(16*Math.random()),spe:Math.floor(16*Math.random())};case"high":const e={hp:a(),atk:a(),def:a(),spa:a(),spd:a(),spe:a()};return["hp","atk","def","spa","spd","spe"].sort(()=>Math.random()-.5).slice(0,3).forEach(a=>e[a]=31),e;case"perfect":return{hp:31,atk:31,def:31,spa:31,spd:31,spe:31};default:return{hp:a(),atk:a(),def:a(),spa:a(),spd:a(),spe:a()}}}({low:"low",medium:"normal",high:"high",perfect:"perfect"}[r]||r);let p=0;if(n){p={low:Math.min(30,Math.floor(.3*i)),medium:Math.min(100,Math.floor(.8*i)),high:Math.min(200,Math.floor(1.5*i)),perfect:252}[r]||Math.min(30,Math.floor(.5*i))}const d=l;console.log(`${e} [GEN] Pokemon name normalized: "${s}" -> "${d}"`);const c=a.nature||b[Math.floor(Math.random()*b.length)],v=a.ability||function(e){if("undefined"==typeof POKEDEX)return null;const a=A(e);if(!a||!a.data||!a.data.abilities)return null;const t=a.data,n=[];return t.abilities[0]&&n.push(t.abilities[0]),t.abilities[1]&&n.push(t.abilities[1]),t.abilities.H&&Math.random()<.2&&n.push(t.abilities.H),0===n.length?null:n[Math.floor(Math.random()*n.length)]}(d),u=a.moves&&a.moves.length>0?g(a.moves):function(e){if("undefined"==typeof POKEDEX||"undefined"==typeof MOVES)return["Tackle","Scratch","Growl","Leer"];const a=A(e);if(!a||!a.data)return["Tackle","Scratch","Growl","Leer"];const t=a.data.types||["Normal"],n=[];for(const e in MOVES){const a=MOVES[e];a&&"Status"!==a.category&&(t.includes(a.type)||"Normal"===a.type)&&a.basePower&&a.basePower>0&&a.basePower<=100&&n.push(a.name)}return n.sort(()=>Math.random()-.5).slice(0,4)}(d,i),_=a.gender||(Math.random()>.5?"M":"F"),h=function(e){if(!e)return null;const a=e.toLowerCase().trim();return"kyogre"===a||"groudon"===a?"primal":"zacian"===a||"zamazenta"===a?"crowned":null}(d);return{name:d,gender:_,lv:i,nature:c,ability:v,shiny:o,item:a.item||null,mechanic:a.mechanic||null,teraType:a.teraType||null,stats_meta:{ivs:m,ev_level:p},moves:u,mega:a.mega||h}}function $(a,t=2){const n=f(),s=a.toLowerCase().replace(/[^a-z0-9]/g,""),l={hexmaniac:"hex",hexgirl:"hex",ionostreamer:"iono",nanjamo:"iono","champion cynthia":"cynthia",championcynthia:"cynthia",shirona:"cynthia","gym leader nessa":"nessa",gymleadernessa:"nessa","gym leader bea":"bea",gymleaderbea:"bea","gym leader erika":"erika",gymleadererika:"erika","gym leader marnie":"marnie",gymleadermarnie:"marnie","professor sonia":"sonia",professorsonia:"sonia","captain mallow":"mallow",captainmallow:"mallow","captain lana":"lana",captainlana:"lana","aether president lusamine":"lusamine",presidentlusamine:"lusamine",hikari:"dawn",mei:"rosa","serena kalos":"serena",yuuri:"gloria",gloriagalar:"gloria"};let i=s;if(!n[s])if(l[s])i=l[s],console.log(`${e} [DEBUG] : "${s}" -> "${i}"`);else{const a=Object.keys(n).find(e=>s.includes(e)||e.includes(s));a&&(i=a,console.log(`${e} [DEBUG] : "${s}" -> "${i}"`))}const o=n[i];if(!o)return console.log(`${e}  "${a}" (${s}) `),null;const r=Math.max(1,Math.min(4,t));let m=o[r],p=r;const d=e=>e?Array.isArray(e)?e:e.party&&Array.isArray(e.party)?e.party:null:null,c=e=>e?Array.isArray(e)?null:e.unlocks?e.unlocks:null:null;let v=d(m),u=c(m);if(!v||0===v.length){const t=Object.keys(o).filter(e=>/^\d+$/.test(e)).map(Number).sort((e,a)=>e-a);if(console.log(`${e} [DEBUG]  "${a}"  Tier ${r}: ${t.join(", ")}`),t.length>0&&(3===r&&!t.includes(3)&&t.includes(4)?(p=4,console.log(`${e} [] Tier 3  Tier 4`)):1===r&&!t.includes(1)&&"cynthia"===i&&t.includes(2)?(p=2,console.log(`${e} [] Cynthia  Tier 1 Tier 2`)):(p=t.reduce((e,a)=>Math.abs(a-r)<Math.abs(e-r)?a:e),console.log(`${e} [DEBUG]  Tier ${p} `)),m=o[p],v=d(m),u=c(m)),!v||0===v.length)return console.warn(`${e}  "${a}" `),null}return console.log(`${e}   "${a}" Tier ${p} `),u&&console.log(`${e} [DEBUG] ${a} unlocks:`,u),{party:v,unlocks:u,difficulty:{1:"easy",2:"hard",3:"expert",4:"expert"}[p]||"normal"}}function w(a){if(console.log(`${e} [DEBUG] parsePartyData :`,typeof a,a),!a)return[];let t=[];if(Array.isArray(a)||"object"!=typeof a){if(!Array.isArray(a))return[];t=a}else{const n=Object.keys(a).filter(e=>/^slot\d+$/.test(e)).sort((e,a)=>parseInt(e.replace("slot",""))-parseInt(a.replace("slot","")));if(n.length>0)t=n.map(e=>a[e]),console.log(`${e} [DEBUG] :`,t.length,"");else{const n=Object.keys(a).filter(e=>/^\d+$/.test(e)).sort((e,a)=>Number(e)-Number(a));if(n.length>0)t=n.map(e=>a[e]),console.log(`${e} [DEBUG] :`,t);else{if(!a.name)return[];t=[a]}}}return t.map((a,t)=>{if(!a)return null;if("string"==typeof a)try{return D(JSON.parse(a),t)}catch(t){return console.warn(`${e} :`,a),null}if(a&&"object"==typeof a&&void 0!==a[0]&&"string"==typeof a[0]){const n=Object.keys(a).filter(e=>/^\d+$/.test(e)).sort((e,a)=>Number(e)-Number(a)).map(e=>a[e]).join("");console.log(`${e} [DEBUG]  JSON:`,n.substring(0,50)+"...");try{return D(JSON.parse(n),t)}catch(a){return console.warn(`${e}  JSON :`,a),null}}return D(a,t)}).filter(e=>null!==e&&e.name)}function D(e,a){if(!e||"object"!=typeof e)return null;let t=[];return e.moves&&(Array.isArray(e.moves)?t=g(e.moves):"object"==typeof e.moves&&(t=g([e.moves.move1,e.moves.move2,e.moves.move3,e.moves.move4]))),{...e,slot:e.slot||a+1,moves:t}}function P(e){return!(!e||"object"!=typeof e)&&(e.name&&"number"==typeof e.lv&&Array.isArray(e.moves)&&e.moves.length>0)}function M(a,t){if(!a||!Array.isArray(a))return[];if(!t||!Array.isArray(t))return[];console.log(`${e} [DEBUG] :`,t),console.log(`${e} [DEBUG] :`,a.map(e=>e.name||e.nickname));const n=[];for(const s of t){const t=("string"==typeof s?s:s?.name||"").toLowerCase();let l=a.find(e=>e.name?.toLowerCase()===t||e.nickname?.toLowerCase()===t);if(!l){const n=t.split("-")[0];l=a.find(e=>{const a=(e.name||"").toLowerCase();return a.split("-")[0]===n||a.includes(t)||t.includes(a)}),l&&console.log(`${e} [DEBUG] : "${s}" -> "${l.name}"`)}l?n.push(l):console.warn(`${e} : ${s}`)}return console.log(`${e} [DEBUG] :`,n.map(e=>e.name)),n}async function B(a){const t=await r();t&&t.party&&0!==t.party.length||console.warn(`${e} ERANPC`);const n=a.player||a.p1||{},s=a.enemy||a.p2||{},l=function(a,t,n="trainer"){const s=a?.name||t?.name||"",l=s.toLowerCase().replace(/[^a-z0-9\u4e00-\u9fa5]/g,""),i=["player","","","","{{user}}","user"].some(e=>l.includes(e)||s.includes(e))||"{{user}}"===s||s.includes("{{user}}");console.log(`${e} [${n}] : "${s}", : ${i}`);const o=s.includes("&");if(o&&a._trainersData&&Array.isArray(a._trainersData)){console.log(`${e} [${n}] `);const l=w(t?.party),i=a._trainersData.map(a=>{let t=[];if(a.isPlayer)t=a.party&&a.party.length>0?a.party.map(e=>M(l,["string"==typeof e?e:e?.name])[0]).filter(Boolean):l;else{const s="wild"===a.trainerType;t=a.party.map(t=>{if(t._needGenerate){const l=t._tier||a.tier||2;return console.log(`${e} [${n}]  ${a.name} : ${t.name} (Tier ${l}, ${s?"":"NPC"})`),S(t,l,!s)}return t})}return t.sort((e,a)=>(a.lv||0)-(e.lv||0)),{name:a.name,party:t,originalCount:t.length}}),o=i.reduce((e,a)=>e+a.originalCount,0),r=[];if(o<=6)i.forEach(a=>{r.push(...a.party),console.log(`${e} [${n}] ${a.name} : ${a.party.map(e=>e.name).join(", ")}`)});else{console.log(`${e} [${n}]  ${o} > 6`);const a=i.map(e=>{const a=e.originalCount/o,t=Math.max(1,Math.round(6*a));return{...e,allocated:t}});let t=a.reduce((e,a)=>e+a.allocated,0);for(;t>6;){const e=a.filter(e=>e.allocated>1).sort((e,a)=>a.allocated-e.allocated)[0];if(!e)break;e.allocated--,t--}a.forEach(a=>{const t=a.party.slice(0,a.allocated);r.push(...t),console.log(`${e} [${n}] ${a.name}  ${a.allocated}/${a.originalCount} : ${t.map(e=>`${e.name}(Lv${e.lv})`).join(", ")}`)})}const m=u(r),p=a._trainersData.map(e=>e.unlocks).filter(Boolean),d=h(a.unlocks,m,...p);return console.log(`${e} [${n}] aiTrainerConfig.unlocks:`,a.unlocks),console.log(`${e} [${n}]  unlocks:`,p),console.log(`${e} [${n}]  unlocks:`,m),console.log(`${e} [${n}]  unlocks:`,d),{name:s,unlocks:d,party:r}}const r=w(t?.party);if(!a?.party||!Array.isArray(a.party)||0===a.party.length){if(i)return console.log(`${e} [${n}] : `),{name:s,unlocks:null,party:r.length>0?r:[{name:"Pikachu",lv:5,moves:["Thunder Shock","Quick Attack"]}]};{console.log(`${e} [${n}] : NPCparty`);const a=c(s,[],2),t=a.party||a,l=a.unlocks||null;return t.length>0?{name:s,unlocks:l,party:t}:"p1"===n&&r.length>0?(console.log(`${e} [${n}] NPC "${s}"  role=p1 ERA `),{name:s,unlocks:null,party:r}):(console.warn(`${e} [${n}] NPC "${s}" `),{name:s,unlocks:null,party:[{name:"Pikachu",lv:5,moves:["Thunder Shock","Quick Attack"]}]})}}const m=a.party,p=a._trainerMetadata||[],d=m.some(e=>P(e)),v=m.some(e=>"string"==typeof e);if(d&&!v){console.log(`${e} [${n}] : AI`);const a=m.map((e,a)=>({...e,moves:g(e.moves),mega:e.mega,trainer:p[a]}));return{name:s,unlocks:null,party:a}}if(d&&v){console.log(`${e} [${n}] : `);const a=[];for(let t=0;t<m.length;t++){const l=m[t];if(P(l))a.push({...l,moves:g(l.moves),trainer:p[t]});else{const o="string"==typeof l?l:l?.name;let m=null;if(i&&r.length>0)m=M(r,[o])[0];else{const e=c(s,[o],2);m=(e.party||e)[0]}m?a.push({...m,trainer:p[t]}):console.warn(`${e} [${n}] : ${o}`)}}return{name:s,unlocks:null,party:a}}console.log(`${e} [${n}] : `);const _=m.map(e=>"string"==typeof e?e:e?.name).filter(Boolean);let y=[],b=null;if(i&&r.length>0)y=M(r,_);else{const a=c(s,_,2);y=a.party||a,b=a.unlocks||null,0===y.length&&"p1"===n&&r.length>0&&(console.log(`${e} [${n}] NPC "${s}"  role=p1 ERA `),y=M(r,_))}if(0===y.length&&(console.warn(`${e} [${n}] `),(i||"p1"===n)&&r.length>0?(console.log(`${e} [${n}]  ERA `),y=r):y=[{name:"Pikachu",lv:5,moves:["Thunder Shock","Quick Attack"]}]),o){if(console.log(`${e} [${n}] : ${s}`),p.length>0){const e=y.map((e,a)=>({...e,trainer:p[a]||s.split("&")[0].trim()}));return{name:s,unlocks:b,party:e}}{const e=s.split("&").map(e=>e.trim()),a=Math.ceil(y.length/2),t=y.map((t,n)=>({...t,trainer:n<a?e[0]:e[1]||e[0]}));return{name:s,unlocks:b,party:t}}}return{name:s,unlocks:b,party:y}}(n,t,"p1"),i=function(a,t){const n="wild"===(a.type||"").toString().toLowerCase(),s=a.name||(n?"wild":"Trainer"),l=a.lines||{},i=a.id||s,o=a.tier||t.tier||1;if(a._trainersData&&Array.isArray(a._trainersData)){console.log(`${e} `);const n=a._trainersData.map(a=>{"wild"!==a.trainerType&&a.trainerType;let t=a.party.map(t=>{if(t._needGenerate){const n=t._tier||a.tier||o,s="wild"===a.trainerType;return console.log(`${e} [P2]  ${a.name} : ${t.name} (Tier ${n}, ${s?"":"NPC"})`),S(t,n,!s)}return t});return t.sort((e,a)=>(a.lv||0)-(e.lv||0)),{name:a.name,party:t,originalCount:t.length}}),r=n.reduce((e,a)=>e+a.originalCount,0),m=[];if(r<=6)n.forEach(a=>{m.push(...a.party),console.log(`${e} [P2] ${a.name} : ${a.party.map(e=>e.name).join(", ")}`)});else{console.log(`${e} [P2]  ${r} > 6`);const a=n.map(e=>{const a=e.originalCount/r,t=Math.max(1,Math.round(6*a));return{...e,allocated:t}});let t=a.reduce((e,a)=>e+a.allocated,0);for(;t>6;){const e=a.filter(e=>e.allocated>1).sort((e,a)=>a.allocated-e.allocated)[0];if(!e)break;e.allocated--,t--}a.forEach(a=>{const t=a.party.slice(0,a.allocated);m.push(...t),console.log(`${e} [P2] ${a.name}  ${a.allocated}/${a.originalCount} : ${t.map(e=>`${e.name}(Lv${e.lv})`).join(", ")}`)})}const p=u(m),d=h(a.unlocks,p);return{party:m,type:a.type||"trainer",name:s,id:i,lines:l,unlocks:d,difficulty:t.difficulty||"normal"}}const r=Array.isArray(a.party)&&a.party.length>0;if(r&&a.party.some(e=>"object"==typeof e&&(void 0!==e.lv||void 0!==e.moves))){const r=!n;console.log(`${e} AI  AI ${n?"":"NPC"}`);const m=a.party.map(e=>{const a="string"==typeof e?{name:e}:e;return S(a,a._tier||o,r)}),p=u(m);return{party:m,type:n?"wild":"trainer",name:s,id:i,lines:l,unlocks:h(a.unlocks,p),difficulty:t.difficulty||"normal"}}if(!n&&s&&"wild"!==s){const n=$(s,o);if(n){let m=n.party;if(r){console.log(`${e}  ${s} Tier ${o} : ${a.party.join(", ")}`);const t=a.party.map(e=>"string"==typeof e?e.toLowerCase():(e.name||"").toLowerCase());m=n.party.filter(e=>t.includes((e.name||"").toLowerCase())),0===m.length&&(console.warn(`${e} `),m=n.party)}return{party:m,type:"trainer",name:s,id:i,lines:l,unlocks:n.unlocks||null,difficulty:t.difficulty||n.difficulty}}}if(r){const r=!n;console.log(`${e}  AI ${n?"":"NPC"}`);const m=a.party.map(e=>{const a="string"==typeof e?{name:e}:e;return S(a,a._tier||o,r)}),p=u(m);return{party:m,type:n?"wild":"trainer",name:s,id:i,lines:l,unlocks:h(a.unlocks,p),difficulty:t.difficulty||"normal"}}console.log(`${e} `);let m=Array.isArray(t.party)&&t.party.length>0?t.party:[];0===m.length&&(m=[{name:"wild"!==s?s:"Rattata",lv:5}]);const p=!n;return{party:m.map(e=>{const a="string"==typeof e?{name:e}:e;return S(a,a._tier||o,p)}),type:n?"wild":"trainer",name:s,id:i,lines:l,unlocks:null,difficulty:t.difficulty||(n?"easy":"normal")}}(s,a),o=h(l.unlocks,t?.unlocks),m=i.unlocks||null,p={difficulty:i.difficulty||a.difficulty||"normal",player:{name:l.name,party:l.party,unlocks:o},enemy:{id:i.id,type:i.type,name:i.name,lines:i.lines,unlocks:m},party:i.party,script:a.script||null};return console.log(`${e} JSON:`,p),console.log(`${e} [UNLOCK] player unlocks:`,o),m&&console.log(`${e} [UNLOCK] enemy unlocks:`,m),p}function T(a){console.log(`${e} ${a} -> `),n=null,s=!1}function E(e){const a={low:90,medium:120,high:150,perfect:186};if("perfect"===e)return{hp:31,atk:31,def:31,spa:31,spd:31,spe:31};const t=["hp","atk","def","spa","spd","spe"],n={};let s=a[e]||a.low;for(let e=0;e<t.length;e++){const a=t[e];if(e===t.length-1)n[a]=Math.min(31,Math.max(0,s));else{const l=Math.min(31,s-0*(t.length-e-1)),i=Math.max(0,s-31*(t.length-e-1));n[a]=Math.floor(Math.random()*(l-i+1))+i,s-=n[a]}}return n}function C(e){if(!e||"object"!=typeof e)return!1;return["hp","atk","def","spa","spd","spe"].every(a=>"number"==typeof e[a]&&e[a]>=0&&e[a]<=31)}function F(a){const t=a.stats_meta||{};let n=t.ivs,s=t.ev_level;if(C(n))console.log(`${e} [IVs] ${a.name}  IVs`);else{const t=a.quality||a.iv_quality||null;if(t&&["low","medium","high","perfect"].includes(t))n=E(t);else{const e=Math.random();let a;a=e<.3?"low":e<.7?"medium":e<.95?"high":"perfect",n=E(a)}console.log(`${e} [IVs]  ${a.name}  IVs:`,n)}const l="number"==typeof a.lv?a.lv:"number"==typeof a.level?a.level:5,i=Math.min(252,Math.floor(2.5*l));return s=null==s?i:Math.max(s,i),{ivs:n,ev_level:s}}async function L(a){Boolean(a&&a.dryRun);try{try{uninjectPrompts([t])}catch(e){}const a=await r();console.log(`${e} [DEBUG]  playerData:`,JSON.stringify(a,null,2));const n={};if(a&&a.party)for(const[t,s]of Object.entries(a.party))if(s&&s.stats_meta&&s.stats_meta.ev_up>0){const a=s.stats_meta.ev_level||0,l=s.stats_meta.ev_up;let i,o;l>a&&a>=20?(i=l,o="AI "):(i=a+l,o=""),console.log(`${e} [EV_UP] : ${t},  ev_level: ${a}, ev_up: ${l},  ev_level: ${i}, : ${o}`),n[`pkm.player.party.${t}.stats_meta.ev_level`]=i,n[`pkm.player.party.${t}.stats_meta.ev_up`]=0,s.stats_meta.ev_level=i,s.stats_meta.ev_up=0}if(Object.keys(n).length>0)try{await o(n),console.log(`${e}   ev_up  ERA`)}catch(a){console.warn(`${e}  ev_up :`,a)}const s={};if(a&&a.party)for(const[t,n]of Object.entries(a.party)){if(!n)continue;n.friendship||(n.friendship={avs:{trust:0,passion:0,insight:0,devotion:0},av_up:{trust:0,passion:0,insight:0,devotion:0}}),n.friendship.avs||(n.friendship.avs={trust:0,passion:0,insight:0,devotion:0}),n.friendship.av_up||(n.friendship.av_up={trust:0,passion:0,insight:0,devotion:0}),n.isAce||(n.isAce=!0,s[`pkm.player.party.${t}.isAce`]=!0);const a=n.friendship.av_up,l=n.friendship.avs;let i=!1;for(const n of["trust","passion","insight","devotion"])if(a[n]&&"number"==typeof a[n]&&a[n]>0){const s=l[n]||0,o=a[n];let r,m;o>s&&s>=50?(r=Math.min(255,o),m="AI "):(r=Math.min(255,s+o),m=""),console.log(`${e} [AV_UP] : ${t}, ${n}: ${s} -> ${r}, : ${m}`),l[n]=r,i=!0}i&&(s[`pkm.player.party.${t}.friendship.avs`]=l,s[`pkm.player.party.${t}.friendship.av_up`]={trust:0,passion:0,insight:0,devotion:0},n.friendship.avs=l,n.friendship.av_up={trust:0,passion:0,insight:0,devotion:0}),n.avs={...l}}if(Object.keys(s).length>0)try{await o(s),console.log(`${e}   av_up  ERA`)}catch(a){console.warn(`${e}  av_up :`,a)}const l=w(a?.party);if(!a||0===l.length)return void console.log(`${e} `);console.log(`${e} [DEBUG]  parsedParty:`,JSON.stringify(l,null,2));const i={},m=l.map(a=>{const t=a.stats_meta||{},n=C(t.ivs),s=void 0!==t.ev_level&&null!==t.ev_level;if(!n||!s){const t=F(a),n=`slot${a.slot||1}`;return i[n]={stats_meta:t},console.log(`${e} [IVs]  ${a.name} (${n})  stats_meta`),{...a,stats_meta:t}}return a});if(Object.keys(i).length>0)try{const a={};for(const[e,t]of Object.entries(i))a[`pkm.player.party.${e}.stats_meta`]=t.stats_meta;await o(a),console.log(`${e}   ${Object.keys(i).length}  stats_meta`)}catch(a){console.warn(`${e}  stats_meta :`,a)}const p=function(e){const a=w(e?.party);if(!e||0===a.length)return null;const t=e?.name||"",n=e?.bonds||{},s=e?.unlocks||{},l=a.length,i=Array.from({length:6}).map((e,t)=>{const n=t+1,s=a.find(e=>(e.slot||n)===n);if(!s)return`slot${n}. `;const l=s.nickname||s.name||`Pokemon ${n}`,i="number"==typeof s.lv?s.lv:"number"==typeof s.level?s.level:"??",o=function(e){return"M"===e?"":"F"===e?"":""}(s.gender),r=s.nature||"???",m=s.ability||"???",p=F(s),d=p.ivs,c=p.ev_level,v=function(e){if(!e)return"???";const a=["hp","atk","def","spa","spd","spe"];let t=0,n=!1;for(const s of a){const a=e[s];31===a&&t++,"atk"===s&&0===a&&(n=!0)}return 6===t?"6V":5===t&&n?"5V0A":`${t}V`}(d),u=s.avs||{trust:0,passion:0,insight:0,devotion:0},_=(u.trust||0)+(u.passion||0)+(u.insight||0)+(u.devotion||0)>0?`T:${u.trust||0}/P:${u.passion||0}/I:${u.insight||0}/D:${u.devotion||0}`:"0/0/0/0",h=Array.isArray(s.moves)&&s.moves.length>0?s.moves:[],y=h.length,g=Array.from({length:4}).map((e,a)=>`move${a+1}: ${h[a]||""}`).join(" | ");return`slot${n}. ${o} ${l} (Lv.${i})\n    [Nature: ${r}] [Ability: ${m}]\n    [Stats: ${v}] [EVs: ${c}] [AVs: ${_}]\n    Moves (${y}/4): ${g}`}).join("\n\n"),o=[];s.enable_mega&&o.push("Mega"),s.enable_z_move&&o.push("Z"),s.enable_dynamax&&o.push("Dmax"),s.enable_tera&&o.push("Tera"),s.enable_bond&&o.push("Bond"),s.enable_styles&&o.push("Style"),s.enable_insight&&o.push("Insight");const r=o.length>0?o.join("/"):"",m=[],p=[];n.enable_bond?m.push("     [] Rosa []\n     [] \n      :  - ****HP/"):s.enable_bond&&p.push("    (Bond) [] - : "),n.enable_styles?m.push("     [] Akari []\n     [] \n      :  - "):s.enable_styles&&p.push("   / (Style) [] - : "),n.enable_insight?m.push("     [] Dawn []\n     [] MAX\n      :   - "):s.enable_insight&&p.push("    [] - : "),n.enable_mega?m.push("    [] Serena []\n     [] \n      :   - MegaMEGA"):s.enable_mega&&p.push("   Mega [] - : "),n.enable_z_move?m.push("   Z [] Selene []\n     [] \n      :  (Break Limit) - ZMegaZ"):s.enable_z_move&&p.push("   Z [] - : Z"),n.enable_dynamax?m.push("     [] Gloria []\n     [] \n      :  - ****"):s.enable_dynamax&&p.push("    [] - : "),n.enable_tera?m.push("     [] Juliana []\n     [] *18*\n      :  - "):s.enable_tera&&p.push("    [] - : ");let d="";return m.length>0||p.length>0?(d="\n   \n",m.length>0&&(d+=` \n${m.join("\n\n")}\n`),p.length>0&&(d+=`\n \n${p.join("\n")}\n`)):d="\n   \n  (...)\n",`<pkm_team_summary>\n\n : ${t} |  : [${r}] |  : (${l}/6)\n--------------------------------------------------\n${i}\n--------------------------------------------------\n${d}\n--------------------------------------------------\n :  <PKM_BATTLE> \n</pkm_team_summary>`}({...a,party:m});if(!p)return;injectPrompts([{id:t,position:"in_chat",depth:2,role:"system",should_scan:!1,content:p}]),console.log(`${e}  `)}catch(a){console.error(`${e} :`,a)}}async function N(t){if(s)return void console.log(`${e} `);const n=t?.message_id??getLastMessageId();try{s=!0;const t=getChatMessages(n);if(!t||0===t.length)return void(s=!1);const l=t[0].message||"";if(!l.includes(`<${a}>`))return void(s=!1);if(l.includes("<PKM_FRONTEND>"))return console.log(`${e} `),void(s=!1);console.log(`${e} ...`);const i=d(l);if(!i)return console.warn(`${e} `),void(s=!1);const o=await B(i);await async function(a,t){try{const n=getChatMessages(a);if(!n||0===n.length)return!1;let s=n[0].message;const l=a=>a?(a.friendship&&a.friendship.avs?(a.avs={...a.friendship.avs},delete a.friendship):a.friendship&&!a.friendship.avs&&"object"==typeof a.friendship&&("trust"in a.friendship||"passion"in a.friendship)&&(a.avs={...a.friendship},delete a.friendship),a.avs||(a.avs={trust:0,passion:0,insight:0,devotion:0}),a.mechanic&&console.log(`${e} [MECHANIC] ${a.name}: ${a.mechanic}${a.teraType?` (${a.teraType})`:""}`),a):a;t.player&&t.player.party&&(t.player.party=t.player.party.map(l)),t.party&&(t.party=t.party.map(l));const i=`<PKM_FRONTEND>\n${JSON.stringify(t)}\n</PKM_FRONTEND>`;return s=s.trim()+"\n\n"+i,await setChatMessages([{message_id:a,message:s}],{refresh:"affected"}),console.log(`${e}   #${a}`),!0}catch(a){return console.error(`${e} :`,a),!1}}(n,o),s=!1}catch(a){console.error(`${e} :`,a),s=!1}}const O="pkm_npc_status";function I(e,a){const t=NPC_ADDON_DATA[e];if(!t||!t.relationship_stage)return{label:"",desc:"..."};const n=String(a),s=t.relationship_stage;return a<0&&s.negative?.[n]?s.negative[n]:a>0&&s.positive?.[n]?s.positive[n]:s.neutral?.[n]?s.neutral[n]:{label:"",desc:"..."}}function R(e,a){const t=NPC_ADDON_DATA[e];if(!t||!t.love_thresholds)return null;const n=a+1;return t.love_thresholds[n]||null}async function G(){console.log(`${e} [NPC]  NPC ...`);try{const a=10,t=getChatMessages("0-{{lastMessageId}}");if(!t||0===t.length)return void console.log(`${e} [NPC] `);const n=t.slice(-a).map(e=>{let a=e.message||"";return a=a.replace(/<VariableInsert>[\s\S]*?<\/VariableInsert>/gi,""),a=a.replace(/<VariableEdit>[\s\S]*?<\/VariableEdit>/gi,""),a=a.replace(/<VariableDelete>[\s\S]*?<\/VariableDelete>/gi,""),a}).join("\n").toLowerCase(),s=await i(),l=_.get(s,"pkm.world_state.npcs",{}),o=_.get(s,"pkm.world_state.passerby_npcs",{}),r=_.get(s,"pkm.player.bonds",{}),m={};for(const e in l)m[e]={...l[e],...window._npcStateSnapshot&&window._npcStateSnapshot[e]};const p=[];for(const[e,a]of Object.entries(NPC_TRIGGERS)){a.some(e=>n.includes(e.toLowerCase()))&&m[e]&&p.push(e)}const d=[];for(const[a,t]of Object.entries(o)){if(a.startsWith("$"))continue;if(!t||"object"!=typeof t)continue;let s=!1;if(n.includes(a.toLowerCase())&&(s=!0),!s&&t.tags){const e=t.tags.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean);e.length>0&&(s=e.some(e=>n.includes(e)))}s&&(d.push({name:a,state:t}),console.log(`${e} [NPC] : ${a} (tags: ${t.tags||""})`))}if(0===p.length&&0===d.length)return console.log(`${e} [NPC]  NPC`),void uninjectPrompts([O]);console.log(`${e} [NPC] : ${p.join(", ")||""}`),console.log(`${e} [NPC] : ${d.map(e=>e.name).join(", ")||""}`);const c=[];if(p.length>0){const e=p.map((e,a)=>{const t=function(e,a,t={}){const n=NPC_ADDON_DATA[e];if(!n)return null;const s=a.stage||0,l=a.love||0,i=I(e,s),o=R(e,s),r=n.unlock_key&&!0===t[n.unlock_key];let m,p="";if(4===s||-2===s)p="[Lock]";else if(3===s&&null!==o&&l>=o)p=r?"[AIStage 4]":"[]";else if(null!==o&&l>=o){const a=s+1;p=`[UPStage ${a}: ${I(e,a).label}]`}else(0===s&&l<=-20||-1===s&&l<=-40)&&(p="[DOWN]");m=null!==o?`${l}/${o}`:0===s?`${l} (: -20)`:-1===s?`${l} (: -40)`:`${l}/MAX`;let d="";return n.unlock_item&&(d=r?`\n   - : ${n.unlock_item.emoji} ${n.unlock_item.name_cn} []`:`\n   - : ${n.unlock_item.emoji} ${n.unlock_item.name_cn} []`),`${n.name_cn} (${n.name_en})\n   - [Stage ${s}: ${i.label}] (Love: ${m})\n   - : ${p} ${i.desc}${d}`}(e,m[e]||{stage:0,love:0},r);return`${a+1}. ${t}`}).filter(Boolean).join("\n\n");c.push(`/ NPC \n${e}`)}if(d.length>0){const e=d.map((e,a)=>{const{name:t,state:n}=e,s=n.stage||0;let l="";return-2===s?l=" [Lock]":-1===s?l="":0===s?l="":1===s?l="":2===s?l="":3===s?l="":4===s&&(l=" [Lock]"),`${a+1}. ${t}\n   - [Stage ${s}: ${l}] (Love: ${n.love||0})`}).join("\n\n");c.push(` NPC \n${e}`)}const v=`<npc_status_brief>\n${c.join("\n\n")}\n</npc_status_brief>`;injectPrompts([{id:O,position:"after_wi_scan",depth:0,role:"system",should_scan:!1,content:v}]);const u=p.length+d.length;console.log(`${e} [NPC]   ${u}  NPC  (: ${p.length}, : ${d.length})`)}catch(a){console.error(`${e} [NPC] :`,a)}}async function x(){const a=await i(),t=_.get(a,"pkm.world_state.npcs",{});if(_.isEmpty(t))return;window._npcStateSnapshot||(window._npcStateSnapshot={});const n={},s=[];for(const[a,s]of Object.entries(t)){if(!s||"object"!=typeof s)continue;const t=s.stage||0,l=s.love||0,o=s.love_up||0;window._npcStateSnapshot[a];let r=l;0!==o&&(r=Math.max(-100,Math.min(100,l+o)),console.log(`${e} [NPC] ${a}: love ${l} + ${o} = ${r}`),n[`pkm.world_state.npcs.${a}.love`]=r,n[`pkm.world_state.npcs.${a}.love_up`]=0);const m=NPC_ADDON_DATA[a];if(m&&t<3){const s=R(a,t);if(null!==s&&r>=s){const l=t+1;console.log(`${e} [NPC]  ${a}:  ${r}/${s} ${t}  ${l}`),n[`pkm.world_state.npcs.${a}.stage`]=l,window._npcStateSnapshot[a]||(window._npcStateSnapshot[a]={}),window._npcStateSnapshot[a].stage=l}}if(m&&3===t&&m.unlock_key&&m.unlock_item){const t=R(a,3);if(null!==t&&r>=t){const t=await i();!0===_.get(t,"pkm.player.bonds",{})[m.unlock_key]?console.log(`${e} [NPC] ${a}:  ${m.unlock_key} AI  Stage 4`):(console.log(`${e} [UNLOCK]  ${a} : ${m.unlock_key}`),window._pendingUnlockEvents||(window._pendingUnlockEvents=[]),window._pendingUnlockEvents.push({npcId:a,npcName:m.name_cn,unlockKey:m.unlock_key,unlockItem:m.unlock_item,love:r}))}}window._npcStateSnapshot[a]={stage:void 0!==n[`pkm.world_state.npcs.${a}.stage`]?n[`pkm.world_state.npcs.${a}.stage`]:t,love:void 0!==n[`pkm.world_state.npcs.${a}.love`]?n[`pkm.world_state.npcs.${a}.love`]:l}}if(Object.keys(n).length>0)try{await o(n),console.log(`${e} [NPC]   love_up  ERA`),s.length>0&&(console.warn(`${e} [NPC]   ${s.length} :`),s.forEach(e=>console.warn(`  - ${e}`)))}catch(a){console.warn(`${e} [NPC]  love_up :`,a)}await async function(){if(!window._pendingUnlockEvents||0===window._pendingUnlockEvents.length)return;window._pendingUnlockEvents.sort((e,a)=>(a.love||0)-(e.love||0));const a=window._pendingUnlockEvents.shift();console.log(`${e} [UNLOCK] : ${a.npcName} (love: ${a.love})`),window._pendingUnlockEvents.length>0&&console.log(`${e} [UNLOCK]  ${window._pendingUnlockEvents.length} `);const t=function(e){const{npcId:a,npcName:t,unlockKey:n,unlockItem:s}=e;return`<pkm_unlock_event>\n\n   ${t} \n\n\n${s.emoji} ${s.name_cn} (${s.name_en})\n\n :\n${s.desc}\n\n ${t}:\n"${s.dialogue}"\n\n :\n${s.effect}\n\n\n[]  ${t} \n <VariableEdit> \n1.   bonds."${n}": true\n2.   unlocks."${n}": true\n3.  NPC   "stage": 4 love \n\n<VariableEdit>\n{\n  "pkm": {\n    "world_state": {\n      "npcs": {\n        "${a}": {\n          "stage": 4\n        }\n      }\n    },\n    "player": {\n      "bonds": {\n        "${n}": true\n      },\n      "unlocks": {\n        "${n}": true\n      }\n    }\n  }\n}\n</VariableEdit>\n\n</pkm_unlock_event>`}(a);try{const n="pkm_unlock_events";try{uninjectPrompts([n])}catch(e){}injectPrompts([{id:n,position:"in_chat",depth:0,role:"system",should_scan:!1,content:t}]),console.log(`${e} [UNLOCK]  : ${a.npcName}`),window._unlockEventInjected=!0}catch(a){console.error(`${e} [UNLOCK] :`,a)}}()}let z=0;for(;"undefined"==typeof eventEmit&&z<30;)await l(100),z++;if("undefined"==typeof eventEmit)return void console.error(`${e} API`);eventOn("CHAT_CHANGED",()=>T("")),eventOn("tavern_events.MESSAGE_SWIPED",()=>T("")),eventOn("tavern_events.MESSAGE_EDITED",()=>T("")),eventOn("GENERATION_AFTER_COMMANDS",async a=>{await async function(){if(window._unlockEventInjected)try{uninjectPrompts(["pkm_unlock_events"]),window._unlockEventInjected=!1,console.log(`${e} [UNLOCK]  `)}catch(e){}}(),await L(a),await x(),await G()}),eventOn("era:writeDone",async e=>{await N(e)}),window.PKMPlugin={getPlayerParty:r,setPlayerParty:p,addToParty:async e=>p("custom",[...(await r()||{name:"",party:[],reserve:[]}).party,e]),async addToReserve(a){const t=await i(),n=_.get(t,"pkm.player",{name:"",party:[],reserve:[]}),s=[...n.reserve||[],a];return o({pkm:{player:{...n,reserve:s}}}),console.log(`${e}  :`,a),s},async setPlayerName(a){const t=await i();o({pkm:{player:{..._.get(t,"pkm.player",{name:"",party:[],reserve:[]}),name:a}}}),console.log(`${e}  : ${a}`)},async triggerBattle(e){const a=await B(e),t=`<PKM_FRONTEND>\n${JSON.stringify(a)}\n</PKM_FRONTEND>`;return await createChatMessages([{role:"assistant",message:t}]),a},version:"1.0.0"};const U=window.eventEmit;U&&(window.eventEmit=function(a,t){"era:updateByObject"===a&&t?(console.log(`${e} []  ERA `),async function(a){if(!a||"object"!=typeof a)return a;const t=await i();return function a(n,s=""){if(!n||"object"!=typeof n)return n;if(s.includes("pkm.player.party.slot")&&n.stats_meta&&"object"==typeof n.stats_meta){const a=s.match(/slot\d+/);if(a){const s=a[0],l=n.stats_meta.ev_up;if(null!=l&&"number"==typeof l&&l>0){const a=_.get(t,`pkm.player.party.${s}.stats_meta.ev_level`,0),i=a+l;console.log(`${e} [EV_UP] : ${s},  ev_level: ${a}, ev_up: ${l},  ev_level: ${i}`),n.stats_meta.ev_level=i,n.stats_meta.ev_up=0}}}for(const[e,t]of Object.entries(n))t&&"object"==typeof t&&!Array.isArray(t)&&a(t,s?`${s}.${e}`:e);return n}(a)}(t).then(e=>{U.call(window,a,e)})):U.apply(window,arguments)},console.log(`${e}  ERA ev_up `)),console.log(`${e}   `),console.log(`${e} : window.PKMPlugin`),console.log(`${e} - getPlayerParty(): `),console.log(`${e} - setPlayerParty(mode, input):  (full/single/custom)`),console.log(`${e} - addToParty(pokemon): `),console.log(`${e} - addToReserve(pokemon): `),console.log(`${e} - setPlayerName(name): `),console.log(`${e} - triggerBattle(data): `)}();